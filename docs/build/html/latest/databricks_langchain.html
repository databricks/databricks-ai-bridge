

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Databricks Langchain Integrations Python API &mdash; DatabricksAIBridge 0.4.2 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="../_static/css/sphinx_rtd_theme-tweaks.css?v=a45d9d10" />
      <link rel="stylesheet" type="text/css" href="../_static/autodoc_pydantic.css?v=a0a71c94" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=bcebf14d"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Databricks OpenAI Integrations Python API" href="databricks_openai.html" />
    <link rel="prev" title="Databricks AI Bridge Python API" href="databricks_ai_bridge.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #FFF" >

          
          
          <a href="../index.html">
            
              <img src="../_static/databricks-logo.svg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="databricks_ai_bridge.html">Databricks AI Bridge Python API</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Databricks Langchain Integrations Python API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#databricks_langchain.ChatDatabricks"><code class="docutils literal notranslate"><span class="pre">ChatDatabricks</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#databricks_langchain.ChatDatabricks.extra_params"><code class="docutils literal notranslate"><span class="pre">ChatDatabricks.extra_params</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#databricks_langchain.ChatDatabricks.max_tokens"><code class="docutils literal notranslate"><span class="pre">ChatDatabricks.max_tokens</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#databricks_langchain.ChatDatabricks.model"><code class="docutils literal notranslate"><span class="pre">ChatDatabricks.model</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#databricks_langchain.ChatDatabricks.n"><code class="docutils literal notranslate"><span class="pre">ChatDatabricks.n</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#databricks_langchain.ChatDatabricks.stop"><code class="docutils literal notranslate"><span class="pre">ChatDatabricks.stop</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#databricks_langchain.ChatDatabricks.stream_usage"><code class="docutils literal notranslate"><span class="pre">ChatDatabricks.stream_usage</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#databricks_langchain.ChatDatabricks.target_uri"><code class="docutils literal notranslate"><span class="pre">ChatDatabricks.target_uri</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#databricks_langchain.ChatDatabricks.temperature"><code class="docutils literal notranslate"><span class="pre">ChatDatabricks.temperature</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#databricks_langchain.ChatDatabricks.bind_tools"><code class="docutils literal notranslate"><span class="pre">ChatDatabricks.bind_tools()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#databricks_langchain.ChatDatabricks.with_structured_output"><code class="docutils literal notranslate"><span class="pre">ChatDatabricks.with_structured_output()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#databricks_langchain.ChatDatabricks.endpoint"><code class="docutils literal notranslate"><span class="pre">ChatDatabricks.endpoint</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#databricks_langchain.DatabricksEmbeddings"><code class="docutils literal notranslate"><span class="pre">DatabricksEmbeddings</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#databricks_langchain.DatabricksEmbeddings.documents_params"><code class="docutils literal notranslate"><span class="pre">DatabricksEmbeddings.documents_params</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#databricks_langchain.DatabricksEmbeddings.endpoint"><code class="docutils literal notranslate"><span class="pre">DatabricksEmbeddings.endpoint</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#databricks_langchain.DatabricksEmbeddings.query_params"><code class="docutils literal notranslate"><span class="pre">DatabricksEmbeddings.query_params</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#databricks_langchain.DatabricksEmbeddings.target_uri"><code class="docutils literal notranslate"><span class="pre">DatabricksEmbeddings.target_uri</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#databricks_langchain.DatabricksEmbeddings.embed_documents"><code class="docutils literal notranslate"><span class="pre">DatabricksEmbeddings.embed_documents()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#databricks_langchain.DatabricksEmbeddings.embed_query"><code class="docutils literal notranslate"><span class="pre">DatabricksEmbeddings.embed_query()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#databricks_langchain.DatabricksVectorSearch"><code class="docutils literal notranslate"><span class="pre">DatabricksVectorSearch</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#databricks_langchain.DatabricksVectorSearch.embeddings"><code class="docutils literal notranslate"><span class="pre">DatabricksVectorSearch.embeddings</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#databricks_langchain.DatabricksVectorSearch.from_texts"><code class="docutils literal notranslate"><span class="pre">DatabricksVectorSearch.from_texts()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#databricks_langchain.DatabricksVectorSearch.add_texts"><code class="docutils literal notranslate"><span class="pre">DatabricksVectorSearch.add_texts()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#databricks_langchain.DatabricksVectorSearch.aadd_texts"><code class="docutils literal notranslate"><span class="pre">DatabricksVectorSearch.aadd_texts()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#databricks_langchain.DatabricksVectorSearch.delete"><code class="docutils literal notranslate"><span class="pre">DatabricksVectorSearch.delete()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#databricks_langchain.DatabricksVectorSearch.similarity_search"><code class="docutils literal notranslate"><span class="pre">DatabricksVectorSearch.similarity_search()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#databricks_langchain.DatabricksVectorSearch.asimilarity_search"><code class="docutils literal notranslate"><span class="pre">DatabricksVectorSearch.asimilarity_search()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#databricks_langchain.DatabricksVectorSearch.similarity_search_with_score"><code class="docutils literal notranslate"><span class="pre">DatabricksVectorSearch.similarity_search_with_score()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#databricks_langchain.DatabricksVectorSearch.asimilarity_search_with_score"><code class="docutils literal notranslate"><span class="pre">DatabricksVectorSearch.asimilarity_search_with_score()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#databricks_langchain.DatabricksVectorSearch.similarity_search_by_vector"><code class="docutils literal notranslate"><span class="pre">DatabricksVectorSearch.similarity_search_by_vector()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#databricks_langchain.DatabricksVectorSearch.asimilarity_search_by_vector"><code class="docutils literal notranslate"><span class="pre">DatabricksVectorSearch.asimilarity_search_by_vector()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#databricks_langchain.DatabricksVectorSearch.similarity_search_by_vector_with_score"><code class="docutils literal notranslate"><span class="pre">DatabricksVectorSearch.similarity_search_by_vector_with_score()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#databricks_langchain.DatabricksVectorSearch.max_marginal_relevance_search"><code class="docutils literal notranslate"><span class="pre">DatabricksVectorSearch.max_marginal_relevance_search()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#databricks_langchain.DatabricksVectorSearch.amax_marginal_relevance_search"><code class="docutils literal notranslate"><span class="pre">DatabricksVectorSearch.amax_marginal_relevance_search()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#databricks_langchain.DatabricksVectorSearch.max_marginal_relevance_search_by_vector"><code class="docutils literal notranslate"><span class="pre">DatabricksVectorSearch.max_marginal_relevance_search_by_vector()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#databricks_langchain.DatabricksVectorSearch.amax_marginal_relevance_search_by_vector"><code class="docutils literal notranslate"><span class="pre">DatabricksVectorSearch.amax_marginal_relevance_search_by_vector()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#databricks_langchain.GenieAgent"><code class="docutils literal notranslate"><span class="pre">GenieAgent()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#databricks_langchain.VectorSearchRetrieverTool"><code class="docutils literal notranslate"><span class="pre">VectorSearchRetrieverTool</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#databricks_langchain.VectorSearchRetrieverTool.args_schema"><code class="docutils literal notranslate"><span class="pre">VectorSearchRetrieverTool.args_schema</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#databricks_langchain.VectorSearchRetrieverTool.description"><code class="docutils literal notranslate"><span class="pre">VectorSearchRetrieverTool.description</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#databricks_langchain.VectorSearchRetrieverTool.embedding"><code class="docutils literal notranslate"><span class="pre">VectorSearchRetrieverTool.embedding</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#databricks_langchain.VectorSearchRetrieverTool.name"><code class="docutils literal notranslate"><span class="pre">VectorSearchRetrieverTool.name</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#databricks_langchain.VectorSearchRetrieverTool.text_column"><code class="docutils literal notranslate"><span class="pre">VectorSearchRetrieverTool.text_column</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#databricks_langchain.UCFunctionToolkit"><code class="docutils literal notranslate"><span class="pre">UCFunctionToolkit</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#databricks_langchain.UCFunctionToolkit.function_names"><code class="docutils literal notranslate"><span class="pre">UCFunctionToolkit.function_names</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#databricks_langchain.UCFunctionToolkit.tools_dict"><code class="docutils literal notranslate"><span class="pre">UCFunctionToolkit.tools_dict</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#databricks_langchain.UCFunctionToolkit.client"><code class="docutils literal notranslate"><span class="pre">UCFunctionToolkit.client</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#databricks_langchain.UCFunctionToolkit.Config"><code class="docutils literal notranslate"><span class="pre">UCFunctionToolkit.Config</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#databricks_langchain.UCFunctionToolkit.Config.arbitrary_types_allowed"><code class="docutils literal notranslate"><span class="pre">UCFunctionToolkit.Config.arbitrary_types_allowed</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#databricks_langchain.UCFunctionToolkit.validate_toolkit"><code class="docutils literal notranslate"><span class="pre">UCFunctionToolkit.validate_toolkit()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#databricks_langchain.UCFunctionToolkit.uc_function_to_langchain_tool"><code class="docutils literal notranslate"><span class="pre">UCFunctionToolkit.uc_function_to_langchain_tool()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#databricks_langchain.UCFunctionToolkit.tools"><code class="docutils literal notranslate"><span class="pre">UCFunctionToolkit.tools</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#databricks_langchain.UnityCatalogTool"><code class="docutils literal notranslate"><span class="pre">UnityCatalogTool</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#databricks_langchain.UnityCatalogTool.client_config"><code class="docutils literal notranslate"><span class="pre">UnityCatalogTool.client_config</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#databricks_langchain.UnityCatalogTool.uc_function_name"><code class="docutils literal notranslate"><span class="pre">UnityCatalogTool.uc_function_name</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#databricks_langchain.DatabricksFunctionClient"><code class="docutils literal notranslate"><span class="pre">DatabricksFunctionClient</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#databricks_langchain.DatabricksFunctionClient.set_default_spark_session"><code class="docutils literal notranslate"><span class="pre">DatabricksFunctionClient.set_default_spark_session()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#databricks_langchain.DatabricksFunctionClient.stop_spark_session"><code class="docutils literal notranslate"><span class="pre">DatabricksFunctionClient.stop_spark_session()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#databricks_langchain.DatabricksFunctionClient.refresh_client_and_session"><code class="docutils literal notranslate"><span class="pre">DatabricksFunctionClient.refresh_client_and_session()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#databricks_langchain.DatabricksFunctionClient.create_function"><code class="docutils literal notranslate"><span class="pre">DatabricksFunctionClient.create_function()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#databricks_langchain.DatabricksFunctionClient.create_python_function"><code class="docutils literal notranslate"><span class="pre">DatabricksFunctionClient.create_python_function()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#databricks_langchain.DatabricksFunctionClient.create_wrapped_function"><code class="docutils literal notranslate"><span class="pre">DatabricksFunctionClient.create_wrapped_function()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#databricks_langchain.DatabricksFunctionClient.get_function"><code class="docutils literal notranslate"><span class="pre">DatabricksFunctionClient.get_function()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#databricks_langchain.DatabricksFunctionClient.list_functions"><code class="docutils literal notranslate"><span class="pre">DatabricksFunctionClient.list_functions()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#databricks_langchain.DatabricksFunctionClient.execute_function"><code class="docutils literal notranslate"><span class="pre">DatabricksFunctionClient.execute_function()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#databricks_langchain.DatabricksFunctionClient.delete_function"><code class="docutils literal notranslate"><span class="pre">DatabricksFunctionClient.delete_function()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#databricks_langchain.DatabricksFunctionClient.to_dict"><code class="docutils literal notranslate"><span class="pre">DatabricksFunctionClient.to_dict()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#databricks_langchain.DatabricksFunctionClient.from_dict"><code class="docutils literal notranslate"><span class="pre">DatabricksFunctionClient.from_dict()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#databricks_langchain.set_uc_function_client"><code class="docutils literal notranslate"><span class="pre">set_uc_function_client()</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="databricks_openai.html">Databricks OpenAI Integrations Python API</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #FFF" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">DatabricksAIBridge</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Databricks Langchain Integrations Python API</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="databricks-langchain-integrations-python-api">
<h1>Databricks Langchain Integrations Python API<a class="headerlink" href="#databricks-langchain-integrations-python-api" title="Link to this heading"></a></h1>
<dl>
<dt>Setup:</dt><dd><p>Install <code class="docutils literal notranslate"><span class="pre">databricks-langchain</span></code>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip<span class="w"> </span>install<span class="w"> </span>-U<span class="w"> </span>databricks-langchain
</pre></div>
</div>
<p>If you are outside Databricks, set the Databricks workspace hostname and personal access token to environment variables:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span><span class="w"> </span><span class="nv">DATABRICKS_HOSTNAME</span><span class="o">=</span><span class="s2">&quot;https://your-databricks-workspace&quot;</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">DATABRICKS_TOKEN</span><span class="o">=</span><span class="s2">&quot;your-personal-access-token&quot;</span>
</pre></div>
</div>
</dd>
</dl>
<p id="module-databricks_langchain"><strong>Re-exported Unity Catalog Utilities</strong></p>
<p>This module re-exports selected utilities from the Unity Catalog open source package.</p>
<p>Available aliases:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#databricks_langchain.UCFunctionToolkit" title="databricks_langchain.UCFunctionToolkit"><code class="xref py py-class docutils literal notranslate"><span class="pre">databricks_langchain.UCFunctionToolkit</span></code></a></p></li>
<li><p><a class="reference internal" href="#databricks_langchain.UnityCatalogTool" title="databricks_langchain.UnityCatalogTool"><code class="xref py py-class docutils literal notranslate"><span class="pre">databricks_langchain.UnityCatalogTool</span></code></a></p></li>
<li><p><a class="reference internal" href="#databricks_langchain.DatabricksFunctionClient" title="databricks_langchain.DatabricksFunctionClient"><code class="xref py py-class docutils literal notranslate"><span class="pre">databricks_langchain.DatabricksFunctionClient</span></code></a></p></li>
<li><p><a class="reference internal" href="#databricks_langchain.set_uc_function_client" title="databricks_langchain.set_uc_function_client"><code class="xref py py-func docutils literal notranslate"><span class="pre">databricks_langchain.set_uc_function_client()</span></code></a></p></li>
</ul>
<p>Refer to the Unity Catalog <a class="reference external" href="https://docs.unitycatalog.io/ai/integrations/langchain/#using-unity-catalog-ai-with-langchain">documentation</a> for more information.</p>
<dl class="py class pydantic_model">
<dt class="sig sig-object py" id="databricks_langchain.ChatDatabricks">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">databricks_langchain.</span></span><span class="sig-name descname"><span class="pre">ChatDatabricks</span></span><a class="headerlink" href="#databricks_langchain.ChatDatabricks" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://api.python.langchain.com/en/latest/language_models/langchain_core.language_models.chat_models.BaseChatModel.html#langchain_core.language_models.chat_models.BaseChatModel" title="(in 🦜🔗 LangChain v0.2.17)"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseChatModel</span></code></a></p>
<p>Databricks chat model integration.</p>
<p><strong>Instantiate</strong>:</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">databricks_langchain</span><span class="w"> </span><span class="kn">import</span> <span class="n">ChatDatabricks</span>

<span class="n">llm</span> <span class="o">=</span> <span class="n">ChatDatabricks</span><span class="p">(</span>
    <span class="n">model</span><span class="o">=</span><span class="s2">&quot;databricks-meta-llama-3-1-405b-instruct&quot;</span><span class="p">,</span>
    <span class="n">temperature</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
    <span class="n">max_tokens</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
<p><strong>Invoke</strong>:</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">messages</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">(</span><span class="s2">&quot;system&quot;</span><span class="p">,</span> <span class="s2">&quot;You are a helpful translator. Translate the user sentence to French.&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="s2">&quot;human&quot;</span><span class="p">,</span> <span class="s2">&quot;I love programming.&quot;</span><span class="p">),</span>
<span class="p">]</span>
<span class="n">llm</span><span class="o">.</span><span class="n">invoke</span><span class="p">(</span><span class="n">messages</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">AIMessage</span><span class="p">(</span>
    <span class="n">content</span><span class="o">=</span><span class="s2">&quot;J&#39;adore la programmation.&quot;</span><span class="p">,</span>
    <span class="n">response_metadata</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;prompt_tokens&quot;</span><span class="p">:</span> <span class="mi">32</span><span class="p">,</span> <span class="s2">&quot;completion_tokens&quot;</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span> <span class="s2">&quot;total_tokens&quot;</span><span class="p">:</span> <span class="mi">41</span><span class="p">},</span>
    <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;run-64eebbdd-88a8-4a25-b508-21e9a5f146c5-0&quot;</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
<p><strong>Stream</strong>:</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">chunk</span> <span class="ow">in</span> <span class="n">llm</span><span class="o">.</span><span class="n">stream</span><span class="p">(</span><span class="n">messages</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">chunk</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">content</span><span class="o">=</span><span class="s1">&#39;J&#39;</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;run-609b8f47-e580-4691-9ee4-e2109f53155e&#39;</span>
<span class="n">content</span><span class="o">=</span><span class="s2">&quot;&#39;&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;run-609b8f47-e580-4691-9ee4-e2109f53155e&#39;</span>
<span class="n">content</span><span class="o">=</span><span class="s1">&#39;ad&#39;</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;run-609b8f47-e580-4691-9ee4-e2109f53155e&#39;</span>
<span class="n">content</span><span class="o">=</span><span class="s1">&#39;ore&#39;</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;run-609b8f47-e580-4691-9ee4-e2109f53155e&#39;</span>
<span class="n">content</span><span class="o">=</span><span class="s1">&#39; la&#39;</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;run-609b8f47-e580-4691-9ee4-e2109f53155e&#39;</span>
<span class="n">content</span><span class="o">=</span><span class="s1">&#39; programm&#39;</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;run-609b8f47-e580-4691-9ee4-e2109f53155e&#39;</span>
<span class="n">content</span><span class="o">=</span><span class="s1">&#39;ation&#39;</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;run-609b8f47-e580-4691-9ee4-e2109f53155e&#39;</span>
<span class="n">content</span><span class="o">=</span><span class="s1">&#39;.&#39;</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;run-609b8f47-e580-4691-9ee4-e2109f53155e&#39;</span>
<span class="n">content</span><span class="o">=</span><span class="s1">&#39;&#39;</span> <span class="n">response_metadata</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;finish_reason&#39;</span><span class="p">:</span> <span class="s1">&#39;stop&#39;</span><span class="p">}</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;run-609b8f47-e580-4691-9ee4-e2109f53155e&#39;</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">stream</span> <span class="o">=</span> <span class="n">llm</span><span class="o">.</span><span class="n">stream</span><span class="p">(</span><span class="n">messages</span><span class="p">)</span>
<span class="n">full</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">stream</span><span class="p">)</span>
<span class="k">for</span> <span class="n">chunk</span> <span class="ow">in</span> <span class="n">stream</span><span class="p">:</span>
    <span class="n">full</span> <span class="o">+=</span> <span class="n">chunk</span>
<span class="n">full</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">AIMessageChunk</span><span class="p">(</span>
    <span class="n">content</span><span class="o">=</span><span class="s2">&quot;J&#39;adore la programmation.&quot;</span><span class="p">,</span>
    <span class="n">response_metadata</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;finish_reason&quot;</span><span class="p">:</span> <span class="s2">&quot;stop&quot;</span><span class="p">},</span>
    <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;run-4cef851f-6223-424f-ad26-4a54e5852aa5&quot;</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<p>To get token usage returned when streaming, pass the <code class="docutils literal notranslate"><span class="pre">stream_usage</span></code> kwarg:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">stream</span> <span class="o">=</span> <span class="n">llm</span><span class="o">.</span><span class="n">stream</span><span class="p">(</span><span class="n">messages</span><span class="p">,</span> <span class="n">stream_usage</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="nb">next</span><span class="p">(</span><span class="n">stream</span><span class="p">)</span><span class="o">.</span><span class="n">usage_metadata</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s2">&quot;input_tokens&quot;</span><span class="p">:</span> <span class="mi">28</span><span class="p">,</span> <span class="s2">&quot;output_tokens&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s2">&quot;total_tokens&quot;</span><span class="p">:</span> <span class="mi">33</span><span class="p">}</span>
</pre></div>
</div>
<p>Alternatively, setting <code class="docutils literal notranslate"><span class="pre">stream_usage</span></code> when instantiating the model can be
useful when incorporating <code class="docutils literal notranslate"><span class="pre">ChatDatabricks</span></code> into LCEL chains– or when using
methods like <code class="docutils literal notranslate"><span class="pre">.with_structured_output</span></code>, which generate chains under the
hood.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">llm</span> <span class="o">=</span> <span class="n">ChatDatabricks</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="s2">&quot;databricks-meta-llama-3-1-405b-instruct&quot;</span><span class="p">,</span> <span class="n">stream_usage</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">structured_llm</span> <span class="o">=</span> <span class="n">llm</span><span class="o">.</span><span class="n">with_structured_output</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
<p><strong>Async</strong>:</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">await</span> <span class="n">llm</span><span class="o">.</span><span class="n">ainvoke</span><span class="p">(</span><span class="n">messages</span><span class="p">)</span>

<span class="c1"># stream:</span>
<span class="c1"># async for chunk in llm.astream(messages)</span>

<span class="c1"># batch:</span>
<span class="c1"># await llm.abatch([messages])</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">AIMessage</span><span class="p">(</span>
    <span class="n">content</span><span class="o">=</span><span class="s2">&quot;J&#39;adore la programmation.&quot;</span><span class="p">,</span>
    <span class="n">response_metadata</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;prompt_tokens&quot;</span><span class="p">:</span> <span class="mi">32</span><span class="p">,</span> <span class="s2">&quot;completion_tokens&quot;</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span> <span class="s2">&quot;total_tokens&quot;</span><span class="p">:</span> <span class="mi">41</span><span class="p">},</span>
    <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;run-e4bb043e-772b-4e1d-9f98-77ccc00c0271-0&quot;</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
<p><strong>Tool calling</strong>:</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">pydantic</span><span class="w"> </span><span class="kn">import</span> <span class="n">BaseModel</span><span class="p">,</span> <span class="n">Field</span>


<span class="k">class</span><span class="w"> </span><span class="nc">GetWeather</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;Get the current weather in a given location&#39;&#39;&#39;</span>

    <span class="n">location</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The city and state, e.g. San Francisco, CA&quot;</span><span class="p">)</span>


<span class="k">class</span><span class="w"> </span><span class="nc">GetPopulation</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;Get the current population in a given location&#39;&#39;&#39;</span>

    <span class="n">location</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The city and state, e.g. San Francisco, CA&quot;</span><span class="p">)</span>


<span class="n">llm_with_tools</span> <span class="o">=</span> <span class="n">llm</span><span class="o">.</span><span class="n">bind_tools</span><span class="p">([</span><span class="n">GetWeather</span><span class="p">,</span> <span class="n">GetPopulation</span><span class="p">])</span>
<span class="n">ai_msg</span> <span class="o">=</span> <span class="n">llm_with_tools</span><span class="o">.</span><span class="n">invoke</span><span class="p">(</span>
    <span class="s2">&quot;Which city is hotter today and which is bigger: LA or NY?&quot;</span>
<span class="p">)</span>
<span class="n">ai_msg</span><span class="o">.</span><span class="n">tool_calls</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
    <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;GetWeather&quot;</span><span class="p">,</span>
        <span class="s2">&quot;args&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="s2">&quot;Los Angeles, CA&quot;</span><span class="p">},</span>
        <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;call_ea0a6004-8e64-4ae8-a192-a40e295bfa24&quot;</span><span class="p">,</span>
        <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;tool_call&quot;</span><span class="p">,</span>
    <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
<p>To use tool calls, your model endpoint must support <code class="docutils literal notranslate"><span class="pre">tools</span></code> parameter. See [Function calling on Databricks](<a class="reference external" href="https://python.langchain.com/docs/integrations/chat/databricks/#function-calling-on-databricks">https://python.langchain.com/docs/integrations/chat/databricks/#function-calling-on-databricks</a>) for more information.</p>
</div></blockquote>
<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="databricks_langchain.ChatDatabricks.extra_params">
<em class="property"><span class="pre">param</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">extra_params</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#databricks_langchain.ChatDatabricks.extra_params" title="Link to this definition"></a></dt>
<dd><p>Whether to include usage metadata in streaming output. If True, additional
message chunks will be generated during the stream including usage metadata.</p>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="databricks_langchain.ChatDatabricks.max_tokens">
<em class="property"><span class="pre">param</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">max_tokens</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#databricks_langchain.ChatDatabricks.max_tokens" title="Link to this definition"></a></dt>
<dd><p>The maximum number of tokens to generate.</p>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="databricks_langchain.ChatDatabricks.model">
<em class="property"><span class="pre">param</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">model</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><em class="property"> <span class="pre">[Required]</span></em><em class="property"> <span class="pre">(alias</span> <span class="pre">'endpoint')</span></em><a class="headerlink" href="#databricks_langchain.ChatDatabricks.model" title="Link to this definition"></a></dt>
<dd><p>Name of Databricks Model Serving endpoint to query.</p>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="databricks_langchain.ChatDatabricks.n">
<em class="property"><span class="pre">param</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">n</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#databricks_langchain.ChatDatabricks.n" title="Link to this definition"></a></dt>
<dd><p>The number of completion choices to generate.</p>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="databricks_langchain.ChatDatabricks.stop">
<em class="property"><span class="pre">param</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">stop</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#databricks_langchain.ChatDatabricks.stop" title="Link to this definition"></a></dt>
<dd><p>List of strings to stop generation at.</p>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="databricks_langchain.ChatDatabricks.stream_usage">
<em class="property"><span class="pre">param</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">stream_usage</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#databricks_langchain.ChatDatabricks.stream_usage" title="Link to this definition"></a></dt>
<dd><p>Any extra parameters to pass to the endpoint.</p>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="databricks_langchain.ChatDatabricks.target_uri">
<em class="property"><span class="pre">param</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">target_uri</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'databricks'</span></em><a class="headerlink" href="#databricks_langchain.ChatDatabricks.target_uri" title="Link to this definition"></a></dt>
<dd><p>The target URI to use. Defaults to <code class="docutils literal notranslate"><span class="pre">databricks</span></code>.</p>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="databricks_langchain.ChatDatabricks.temperature">
<em class="property"><span class="pre">param</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">temperature</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#databricks_langchain.ChatDatabricks.temperature" title="Link to this definition"></a></dt>
<dd><p>Sampling temperature. Higher values make the model more creative.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="databricks_langchain.ChatDatabricks.bind_tools">
<span class="sig-name descname"><span class="pre">bind_tools</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tools</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Sequence" title="(in Python v3.13)"><span class="pre">Sequence</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Type" title="(in Python v3.13)"><span class="pre">Type</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.pydantic.dev/latest/api/base_model/#pydantic.BaseModel" title="(in Pydantic v0.0.0)"><span class="pre">BaseModel</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.13)"><span class="pre">Callable</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://api.python.langchain.com/en/latest/tools/langchain_core.tools.base.BaseTool.html#langchain_core.tools.base.BaseTool" title="(in 🦜🔗 LangChain v0.2.17)"><span class="pre">BaseTool</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tool_choice</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><span class="pre">dict</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Literal" title="(in Python v3.13)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'auto'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'none'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'required'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'any'</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://api.python.langchain.com/en/latest/runnables/langchain_core.runnables.base.Runnable.html#langchain_core.runnables.base.Runnable" title="(in 🦜🔗 LangChain v0.2.17)"><span class="pre">Runnable</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://api.python.langchain.com/en/latest/prompt_values/langchain_core.prompt_values.PromptValue.html#langchain_core.prompt_values.PromptValue" title="(in 🦜🔗 LangChain v0.2.17)"><span class="pre">PromptValue</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Sequence" title="(in Python v3.13)"><span class="pre">Sequence</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://api.python.langchain.com/en/latest/messages/langchain_core.messages.base.BaseMessage.html#langchain_core.messages.base.BaseMessage" title="(in 🦜🔗 LangChain v0.2.17)"><span class="pre">BaseMessage</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><span class="pre">dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://api.python.langchain.com/en/latest/messages/langchain_core.messages.base.BaseMessage.html#langchain_core.messages.base.BaseMessage" title="(in 🦜🔗 LangChain v0.2.17)"><span class="pre">BaseMessage</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#databricks_langchain.ChatDatabricks.bind_tools" title="Link to this definition"></a></dt>
<dd><p>Bind tool-like objects to this chat model.</p>
<p>Assumes model is compatible with OpenAI tool-calling API.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tools</strong> – A list of tool definitions to bind to this chat model.
Can be  a dictionary, pydantic model, callable, or BaseTool. Pydantic
models, callables, and BaseTools will be automatically converted to
their schema dictionary representation.</p></li>
<li><p><strong>tool_choice</strong> – <p>Which tool to require the model to call. Options are:</p>
<ul>
<li><p>name of the tool (str): Calls corresponding tool.</p></li>
<li><p><strong>”auto”</strong>: Automatically selects a tool (including no tool).</p></li>
<li><p><strong>”none”</strong>: Model does not generate any tool calls and instead must generate a standard assistant message.</p></li>
<li><p><strong>”required”</strong>: The model picks the most relevant tool in tools and must generate a tool call or a dictionary of the form:</p>
<blockquote>
<div><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;function&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;function&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&lt;&lt;tool_name&gt;&gt;&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
</p></li>
<li><p><strong>**kwargs</strong> – Any additional parameters to pass to the
<a class="reference external" href="langchain-core:Runnable">Runnable</a> constructor.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="databricks_langchain.ChatDatabricks.with_structured_output">
<span class="sig-name descname"><span class="pre">with_structured_output</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">schema</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><span class="pre">Dict</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Type" title="(in Python v3.13)"><span class="pre">Type</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Literal" title="(in Python v3.13)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'function_calling'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'json_mode'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'json_schema'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'function_calling'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_raw</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://api.python.langchain.com/en/latest/runnables/langchain_core.runnables.base.Runnable.html#langchain_core.runnables.base.Runnable" title="(in 🦜🔗 LangChain v0.2.17)"><span class="pre">Runnable</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://api.python.langchain.com/en/latest/prompt_values/langchain_core.prompt_values.PromptValue.html#langchain_core.prompt_values.PromptValue" title="(in 🦜🔗 LangChain v0.2.17)"><span class="pre">PromptValue</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Sequence" title="(in Python v3.13)"><span class="pre">Sequence</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://api.python.langchain.com/en/latest/messages/langchain_core.messages.base.BaseMessage.html#langchain_core.messages.base.BaseMessage" title="(in 🦜🔗 LangChain v0.2.17)"><span class="pre">BaseMessage</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><span class="pre">dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><span class="pre">Dict</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.pydantic.dev/latest/api/base_model/#pydantic.BaseModel" title="(in Pydantic v0.0.0)"><span class="pre">BaseModel</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#databricks_langchain.ChatDatabricks.with_structured_output" title="Link to this definition"></a></dt>
<dd><p>Model wrapper that returns outputs formatted to match the given schema.</p>
<p>Assumes model is compatible with OpenAI tool-calling API.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>schema</strong> – The output schema as a dict or a Pydantic class. If a Pydantic class
then the model output will be an object of that class. If a dict then
the model output will be a dict. With a Pydantic class the returned
attributes will be validated, whereas with a dict they will not be. If
<a class="reference external" href="https://docs.python.org/3/glossary.html#term-method" title="(in Python v3.13)"><code class="xref any docutils literal notranslate"><span class="pre">method</span></code></a> is “function_calling” and <code class="xref any docutils literal notranslate"><span class="pre">schema</span></code> is a dict, then the dict
must match the OpenAI function-calling spec or be a valid JSON schema
with top level ‘title’ and ‘description’ keys specified.</p></li>
<li><p><strong>method</strong> – The method for steering model generation, either “function_calling”
or “json_mode”. If “function_calling” then the schema will be converted
to an OpenAI function and the returned model will make use of the
function-calling API. If “json_mode” then OpenAI’s JSON mode will be
used. Note that if using “json_mode” then you must include instructions
for formatting the output into the desired schema into the model call.</p></li>
<li><p><strong>include_raw</strong> – If False then only the parsed structured output is returned. If
an error occurs during model output parsing it will be raised. If True
then both the raw model response (a BaseMessage) and the parsed model
response will be returned. If an error occurs during output parsing it
will be caught and returned as well. The final output is always a dict
with keys “raw”, “parsed”, and “parsing_error”.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p>If <code class="docutils literal notranslate"><span class="pre">include_raw</span></code> is False and <code class="docutils literal notranslate"><span class="pre">schema</span></code> is a Pydantic class, Runnable outputs
an instance of <code class="docutils literal notranslate"><span class="pre">schema</span></code> (i.e., a Pydantic object).</p>
<p>Otherwise, if <code class="docutils literal notranslate"><span class="pre">include_raw</span></code> is False then Runnable outputs a dict.</p>
<dl class="simple">
<dt>If <code class="docutils literal notranslate"><span class="pre">include_raw</span></code> is True, then Runnable outputs a dict with keys:</dt><dd><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;raw&quot;</span></code>: BaseMessage</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;parsed&quot;</span></code>: None if there was a parsing error, otherwise the type depends on the <code class="docutils literal notranslate"><span class="pre">schema</span></code> as described above.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;parsing_error&quot;</span></code>: Optional[BaseException]</p></li>
</ul>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>A <a class="reference external" href="langchain-core:Runnable">Runnable</a> that takes any ChatModel input and returns as output</p>
</dd>
</dl>
<p><strong>Examples</strong>:</p>
<p>Function-calling, Pydantic schema (method=”function_calling”, include_raw=False)</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">databricks_langchain</span><span class="w"> </span><span class="kn">import</span> <span class="n">ChatDatabricks</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pydantic</span><span class="w"> </span><span class="kn">import</span> <span class="n">BaseModel</span>


<span class="k">class</span><span class="w"> </span><span class="nc">AnswerWithJustification</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;An answer to the user question along with justification for the answer.&#39;&#39;&#39;</span>

    <span class="n">answer</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">justification</span><span class="p">:</span> <span class="nb">str</span>


<span class="n">llm</span> <span class="o">=</span> <span class="n">ChatDatabricks</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="s2">&quot;databricks-meta-llama-3-1-70b-instruct&quot;</span><span class="p">)</span>
<span class="n">structured_llm</span> <span class="o">=</span> <span class="n">llm</span><span class="o">.</span><span class="n">with_structured_output</span><span class="p">(</span><span class="n">AnswerWithJustification</span><span class="p">)</span>

<span class="n">structured_llm</span><span class="o">.</span><span class="n">invoke</span><span class="p">(</span><span class="s2">&quot;What weighs more a pound of bricks or a pound of feathers&quot;</span><span class="p">)</span>

<span class="c1"># -&gt; AnswerWithJustification(</span>
<span class="c1">#     answer=&#39;They weigh the same&#39;,</span>
<span class="c1">#     justification=&#39;Both a pound of bricks and a pound of feathers weigh one pound. The weight is the same, but the volume or density of the objects may differ.&#39;</span>
<span class="c1"># )</span>
</pre></div>
</div>
</div></blockquote>
<p>Function-calling, Pydantic schema (method=”function_calling”, include_raw=True):</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">databricks_langchain</span><span class="w"> </span><span class="kn">import</span> <span class="n">ChatDatabricks</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pydantic</span><span class="w"> </span><span class="kn">import</span> <span class="n">BaseModel</span>


<span class="k">class</span><span class="w"> </span><span class="nc">AnswerWithJustification</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;An answer to the user question along with justification for the answer.&#39;&#39;&#39;</span>

    <span class="n">answer</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">justification</span><span class="p">:</span> <span class="nb">str</span>


<span class="n">llm</span> <span class="o">=</span> <span class="n">ChatDatabricks</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="s2">&quot;databricks-meta-llama-3-1-70b-instruct&quot;</span><span class="p">)</span>
<span class="n">structured_llm</span> <span class="o">=</span> <span class="n">llm</span><span class="o">.</span><span class="n">with_structured_output</span><span class="p">(</span><span class="n">AnswerWithJustification</span><span class="p">,</span> <span class="n">include_raw</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">structured_llm</span><span class="o">.</span><span class="n">invoke</span><span class="p">(</span><span class="s2">&quot;What weighs more a pound of bricks or a pound of feathers&quot;</span><span class="p">)</span>
<span class="c1"># -&gt; {</span>
<span class="c1">#     &#39;raw&#39;: AIMessage(content=&#39;&#39;, additional_kwargs={&#39;tool_calls&#39;: [{&#39;id&#39;: &#39;call_Ao02pnFYXD6GN1yzc0uXPsvF&#39;, &#39;function&#39;: {&#39;arguments&#39;: &#39;{&quot;answer&quot;:&quot;They weigh the same.&quot;,&quot;justification&quot;:&quot;Both a pound of bricks and a pound of feathers weigh one pound. The weight is the same, but the volume or density of the objects may differ.&quot;}&#39;, &#39;name&#39;: &#39;AnswerWithJustification&#39;}, &#39;type&#39;: &#39;function&#39;}]}),</span>
<span class="c1">#     &#39;parsed&#39;: AnswerWithJustification(answer=&#39;They weigh the same.&#39;, justification=&#39;Both a pound of bricks and a pound of feathers weigh one pound. The weight is the same, but the volume or density of the objects may differ.&#39;),</span>
<span class="c1">#     &#39;parsing_error&#39;: None</span>
<span class="c1"># }</span>
</pre></div>
</div>
</div></blockquote>
<p>Function-calling, dict schema (method=”function_calling”, include_raw=False):</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">databricks_langchain</span><span class="w"> </span><span class="kn">import</span> <span class="n">ChatDatabricks</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">langchain_core.utils.function_calling</span><span class="w"> </span><span class="kn">import</span> <span class="n">convert_to_openai_tool</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pydantic</span><span class="w"> </span><span class="kn">import</span> <span class="n">BaseModel</span>


<span class="k">class</span><span class="w"> </span><span class="nc">AnswerWithJustification</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;An answer to the user question along with justification for the answer.&#39;&#39;&#39;</span>

    <span class="n">answer</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">justification</span><span class="p">:</span> <span class="nb">str</span>


<span class="n">dict_schema</span> <span class="o">=</span> <span class="n">convert_to_openai_tool</span><span class="p">(</span><span class="n">AnswerWithJustification</span><span class="p">)</span>
<span class="n">llm</span> <span class="o">=</span> <span class="n">ChatDatabricks</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="s2">&quot;databricks-meta-llama-3-1-70b-instruct&quot;</span><span class="p">)</span>
<span class="n">structured_llm</span> <span class="o">=</span> <span class="n">llm</span><span class="o">.</span><span class="n">with_structured_output</span><span class="p">(</span><span class="n">dict_schema</span><span class="p">)</span>

<span class="n">structured_llm</span><span class="o">.</span><span class="n">invoke</span><span class="p">(</span><span class="s2">&quot;What weighs more a pound of bricks or a pound of feathers&quot;</span><span class="p">)</span>
<span class="c1"># -&gt; {</span>
<span class="c1">#     &#39;answer&#39;: &#39;They weigh the same&#39;,</span>
<span class="c1">#     &#39;justification&#39;: &#39;Both a pound of bricks and a pound of feathers weigh one pound. The weight is the same, but the volume and density of the two substances differ.&#39;</span>
<span class="c1"># }</span>
</pre></div>
</div>
</div></blockquote>
<p>JSON mode, Pydantic schema (method=”json_mode”, include_raw=True):</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">databricks_langchain</span><span class="w"> </span><span class="kn">import</span> <span class="n">ChatDatabricks</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pydantic</span><span class="w"> </span><span class="kn">import</span> <span class="n">BaseModel</span>

<span class="k">class</span><span class="w"> </span><span class="nc">AnswerWithJustification</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">answer</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">justification</span><span class="p">:</span> <span class="nb">str</span>

<span class="n">llm</span> <span class="o">=</span> <span class="n">ChatDatabricks</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="s2">&quot;databricks-meta-llama-3-1-70b-instruct&quot;</span><span class="p">)</span>
<span class="n">structured_llm</span> <span class="o">=</span> <span class="n">llm</span><span class="o">.</span><span class="n">with_structured_output</span><span class="p">(</span>
    <span class="n">AnswerWithJustification</span><span class="p">,</span>
    <span class="n">method</span><span class="o">=</span><span class="s2">&quot;json_mode&quot;</span><span class="p">,</span>
    <span class="n">include_raw</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>

<span class="n">structured_llm</span><span class="o">.</span><span class="n">invoke</span><span class="p">(</span>
    <span class="s2">&quot;Answer the following question. &quot;</span>
    <span class="s2">&quot;Make sure to return a JSON blob with keys &#39;answer&#39; and &#39;justification&#39;.&quot;</span>
    <span class="s2">&quot;What&#39;s heavier a pound of bricks or a pound of feathers?&quot;</span>
<span class="p">)</span>
<span class="c1"># -&gt; {</span>
<span class="c1">#     &#39;raw&#39;: AIMessage(content=&#39;{    &quot;answer&quot;: &quot;They are both the same weight.&quot;,    &quot;justification&quot;: &quot;Both a pound of bricks and a pound of feathers weigh one pound. The difference lies in the volume and density of the materials, not the weight.&quot; }&#39;),</span>
<span class="c1">#     &#39;parsed&#39;: AnswerWithJustification(answer=&#39;They are both the same weight.&#39;, justification=&#39;Both a pound of bricks and a pound of feathers weigh one pound. The difference lies in the volume and density of the materials, not the weight.&#39;),</span>
<span class="c1">#     &#39;parsing_error&#39;: None</span>
<span class="c1"># }</span>
</pre></div>
</div>
</div></blockquote>
<p>JSON mode, no schema (schema=None, method=”json_mode”, include_raw=True):</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">structured_llm</span> <span class="o">=</span> <span class="n">llm</span><span class="o">.</span><span class="n">with_structured_output</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s2">&quot;json_mode&quot;</span><span class="p">,</span> <span class="n">include_raw</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">structured_llm</span><span class="o">.</span><span class="n">invoke</span><span class="p">(</span>
    <span class="s2">&quot;Answer the following question. &quot;</span>
    <span class="s2">&quot;Make sure to return a JSON blob with keys &#39;answer&#39; and &#39;justification&#39;.&quot;</span>
    <span class="s2">&quot;What&#39;s heavier a pound of bricks or a pound of feathers?&quot;</span>
<span class="p">)</span>
<span class="c1"># -&gt; {</span>
<span class="c1">#     &#39;raw&#39;: AIMessage(content=&#39;{    &quot;answer&quot;: &quot;They are both the same weight.&quot;,    &quot;justification&quot;: &quot;Both a pound of bricks and a pound of feathers weigh one pound. The difference lies in the volume and density of the materials, not the weight.&quot; }&#39;),</span>
<span class="c1">#     &#39;parsed&#39;: {</span>
<span class="c1">#         &#39;answer&#39;: &#39;They are both the same weight.&#39;,</span>
<span class="c1">#         &#39;justification&#39;: &#39;Both a pound of bricks and a pound of feathers weigh one pound. The difference lies in the volume and density of the materials, not the weight.&#39;</span>
<span class="c1">#     },</span>
<span class="c1">#     &#39;parsing_error&#39;: None</span>
<span class="c1"># }</span>
</pre></div>
</div>
</div></blockquote>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="databricks_langchain.ChatDatabricks.endpoint">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">endpoint</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#databricks_langchain.ChatDatabricks.endpoint" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class pydantic_model">
<dt class="sig sig-object py" id="databricks_langchain.DatabricksEmbeddings">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">databricks_langchain.</span></span><span class="sig-name descname"><span class="pre">DatabricksEmbeddings</span></span><a class="headerlink" href="#databricks_langchain.DatabricksEmbeddings" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://api.python.langchain.com/en/latest/embeddings/langchain_core.embeddings.embeddings.Embeddings.html#langchain_core.embeddings.embeddings.Embeddings" title="(in 🦜🔗 LangChain v0.2.17)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Embeddings</span></code></a>, <a class="reference external" href="https://docs.pydantic.dev/latest/api/base_model/#pydantic.BaseModel" title="(in Pydantic v0.0.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseModel</span></code></a></p>
<p>Databricks embedding model integration.</p>
<p><strong>Instantiate</strong>:</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">databricks_langchain</span><span class="w"> </span><span class="kn">import</span> <span class="n">DatabricksEmbeddings</span>

<span class="n">embed</span> <span class="o">=</span> <span class="n">DatabricksEmbeddings</span><span class="p">(</span>
    <span class="n">endpoint</span><span class="o">=</span><span class="s2">&quot;databricks-bge-large-en&quot;</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
<p><strong>Embed single text</strong>:</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">input_text</span> <span class="o">=</span> <span class="s2">&quot;The meaning of life is 42&quot;</span>
<span class="n">embed</span><span class="o">.</span><span class="n">embed_query</span><span class="p">(</span><span class="n">input_text</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mf">0.01605224609375</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0298309326171875</span><span class="p">,</span> <span class="o">...</span><span class="p">]</span>
</pre></div>
</div>
</div></blockquote>
<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="databricks_langchain.DatabricksEmbeddings.documents_params">
<em class="property"><span class="pre">param</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">documents_params</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#databricks_langchain.DatabricksEmbeddings.documents_params" title="Link to this definition"></a></dt>
<dd><p>The parameters to use for documents.</p>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="databricks_langchain.DatabricksEmbeddings.endpoint">
<em class="property"><span class="pre">param</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">endpoint</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><em class="property"> <span class="pre">[Required]</span></em><a class="headerlink" href="#databricks_langchain.DatabricksEmbeddings.endpoint" title="Link to this definition"></a></dt>
<dd><p>Name of Databricks Model Serving endpoint to query.</p>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="databricks_langchain.DatabricksEmbeddings.query_params">
<em class="property"><span class="pre">param</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">query_params</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#databricks_langchain.DatabricksEmbeddings.query_params" title="Link to this definition"></a></dt>
<dd><p>The parameters to use for the query.</p>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="databricks_langchain.DatabricksEmbeddings.target_uri">
<em class="property"><span class="pre">param</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">target_uri</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'databricks'</span></em><a class="headerlink" href="#databricks_langchain.DatabricksEmbeddings.target_uri" title="Link to this definition"></a></dt>
<dd><p>The target URI to use. Defaults to <code class="docutils literal notranslate"><span class="pre">databricks</span></code></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="databricks_langchain.DatabricksEmbeddings.embed_documents">
<span class="sig-name descname"><span class="pre">embed_documents</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">texts</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#databricks_langchain.DatabricksEmbeddings.embed_documents" title="Link to this definition"></a></dt>
<dd><p>Embed search docs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>texts</strong> – List of text to embed.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of embeddings.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="databricks_langchain.DatabricksEmbeddings.embed_query">
<span class="sig-name descname"><span class="pre">embed_query</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#databricks_langchain.DatabricksEmbeddings.embed_query" title="Link to this definition"></a></dt>
<dd><p>Embed query text.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>text</strong> – Text to embed.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Embedding.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="databricks_langchain.DatabricksVectorSearch">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">databricks_langchain.</span></span><span class="sig-name descname"><span class="pre">DatabricksVectorSearch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">endpoint</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embedding</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://api.python.langchain.com/en/latest/embeddings/langchain_core.embeddings.embeddings.Embeddings.html#langchain_core.embeddings.embeddings.Embeddings" title="(in 🦜🔗 LangChain v0.2.17)"><span class="pre">Embeddings</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doc_uri</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">primary_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">workspace_client</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">WorkspaceClient</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">client_args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#databricks_langchain.DatabricksVectorSearch" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://api.python.langchain.com/en/latest/vectorstores/langchain_core.vectorstores.base.VectorStore.html#langchain_core.vectorstores.base.VectorStore" title="(in 🦜🔗 LangChain v0.2.17)"><code class="xref py py-class docutils literal notranslate"><span class="pre">VectorStore</span></code></a></p>
<p>Databricks vector store integration.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>index_name</strong> – The name of the index to use. Format: “catalog.schema.index”.</p></li>
<li><p><strong>endpoint</strong> – <p>The name of the Databricks Vector Search <code class="docutils literal notranslate"><span class="pre">endpoint</span></code>.
If not specified, the endpoint name is automatically inferred based on the index name.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you are using <code class="xref any docutils literal notranslate"><span class="pre">databricks-vectorsearch</span></code> version &lt; 0.35, the <a class="reference internal" href="#databricks_langchain.ChatDatabricks.endpoint" title="databricks_langchain.ChatDatabricks.endpoint"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">endpoint</span></code></a> parameter
is required when initializing the vector store.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">vector_store</span> <span class="o">=</span> <span class="n">DatabricksVectorSearch</span><span class="p">(</span>
    <span class="n">endpoint</span><span class="o">=</span><span class="s2">&quot;&lt;your-endpoint-name&gt;&quot;</span><span class="p">,</span>
    <span class="n">index_name</span><span class="o">=</span><span class="s2">&quot;&lt;your-index-name&gt;&quot;</span><span class="p">,</span>
    <span class="o">...</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</p></li>
<li><p><strong>embedding</strong> – The embedding model.
Required for direct-access index or delta-sync index
with self-managed embeddings.</p></li>
<li><p><strong>text_column</strong> – The name of the text column to use for the embeddings.
Required for direct-access index or delta-sync index
with self-managed embeddings.
Make sure the text column specified is in the index.</p></li>
<li><p><strong>columns</strong> – The list of column names to get when doing the search.
Defaults to <code class="docutils literal notranslate"><span class="pre">[primary_key,</span> <span class="pre">text_column]</span></code>.</p></li>
<li><p><strong>client_args</strong> – Additional arguments to pass to the VectorSearchClient.
Allows you to pass in values like <code class="docutils literal notranslate"><span class="pre">service_principal_client_id</span></code>
and <code class="docutils literal notranslate"><span class="pre">service_principal_client_secret</span></code> to allow for
service principal authentication instead of personal access token authentication.</p></li>
</ul>
</dd>
</dl>
<p><strong>Instantiate</strong>:</p>
<blockquote>
<div><p><a class="reference internal" href="#databricks_langchain.DatabricksVectorSearch" title="databricks_langchain.DatabricksVectorSearch"><code class="xref any py py-class docutils literal notranslate"><span class="pre">DatabricksVectorSearch</span></code></a> supports two types of indexes:</p>
<ul class="simple">
<li><p><strong>Delta Sync Index</strong> automatically syncs with a source Delta Table, automatically and incrementally updating the index as the underlying data in the Delta Table changes.</p></li>
<li><p><strong>Direct Vector Access Index</strong> supports direct read and write of vectors and metadata. The user is responsible for updating this table using the REST API or the Python SDK.</p></li>
</ul>
<p>Also for delta-sync index, you can choose to use Databricks-managed embeddings or self-managed embeddings (via LangChain embeddings classes).</p>
<p>If you are using a delta-sync index with Databricks-managed embeddings:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">databricks_langchain.vectorstores</span><span class="w"> </span><span class="kn">import</span> <span class="n">DatabricksVectorSearch</span>

<span class="n">vector_store</span> <span class="o">=</span> <span class="n">DatabricksVectorSearch</span><span class="p">(</span><span class="n">index_name</span><span class="o">=</span><span class="s2">&quot;&lt;your-index-name&gt;&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>If you are using a direct-access index or a delta-sync index with self-managed embeddings,
you also need to provide the embedding model and text column in your source table to
use for the embeddings:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">langchain_openai</span><span class="w"> </span><span class="kn">import</span> <span class="n">OpenAIEmbeddings</span>

<span class="n">vector_store</span> <span class="o">=</span> <span class="n">DatabricksVectorSearch</span><span class="p">(</span>
    <span class="n">index_name</span><span class="o">=</span><span class="s2">&quot;&lt;your-index-name&gt;&quot;</span><span class="p">,</span>
    <span class="n">embedding</span><span class="o">=</span><span class="n">OpenAIEmbeddings</span><span class="p">(),</span>
    <span class="n">text_column</span><span class="o">=</span><span class="s2">&quot;document_content&quot;</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
<p><strong>Add Documents</strong>:</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">langchain_core.documents</span><span class="w"> </span><span class="kn">import</span> <span class="n">Document</span>

<span class="n">document_1</span> <span class="o">=</span> <span class="n">Document</span><span class="p">(</span><span class="n">page_content</span><span class="o">=</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="n">metadata</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;baz&quot;</span><span class="p">:</span> <span class="s2">&quot;bar&quot;</span><span class="p">})</span>
<span class="n">document_2</span> <span class="o">=</span> <span class="n">Document</span><span class="p">(</span><span class="n">page_content</span><span class="o">=</span><span class="s2">&quot;thud&quot;</span><span class="p">,</span> <span class="n">metadata</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;bar&quot;</span><span class="p">:</span> <span class="s2">&quot;baz&quot;</span><span class="p">})</span>
<span class="n">document_3</span> <span class="o">=</span> <span class="n">Document</span><span class="p">(</span><span class="n">page_content</span><span class="o">=</span><span class="s2">&quot;i will be deleted :(&quot;</span><span class="p">)</span>
<span class="n">documents</span> <span class="o">=</span> <span class="p">[</span><span class="n">document_1</span><span class="p">,</span> <span class="n">document_2</span><span class="p">,</span> <span class="n">document_3</span><span class="p">]</span>
<span class="n">ids</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;1&quot;</span><span class="p">,</span> <span class="s2">&quot;2&quot;</span><span class="p">,</span> <span class="s2">&quot;3&quot;</span><span class="p">]</span>
<span class="n">vector_store</span><span class="o">.</span><span class="n">add_documents</span><span class="p">(</span><span class="n">documents</span><span class="o">=</span><span class="n">documents</span><span class="p">,</span> <span class="n">ids</span><span class="o">=</span><span class="n">ids</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
<p><strong>Delete Documents</strong>:</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">vector_store</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">ids</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;3&quot;</span><span class="p">])</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <a class="reference internal" href="#databricks_langchain.DatabricksVectorSearch.delete" title="databricks_langchain.DatabricksVectorSearch.delete"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">delete</span></code></a> method is only supported for direct-access index.</p>
</div>
</div></blockquote>
<p><strong>Search</strong>:</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">results</span> <span class="o">=</span> <span class="n">vector_store</span><span class="o">.</span><span class="n">similarity_search</span><span class="p">(</span><span class="n">query</span><span class="o">=</span><span class="s2">&quot;thud&quot;</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">results</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;* </span><span class="si">{</span><span class="n">doc</span><span class="o">.</span><span class="n">page_content</span><span class="si">}</span><span class="s2"> [</span><span class="si">{</span><span class="n">doc</span><span class="o">.</span><span class="n">metadata</span><span class="si">}</span><span class="s2">]&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="o">*</span><span class="n">thud</span><span class="p">[{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;2&quot;</span><span class="p">}]</span>
</pre></div>
</div>
</div></blockquote>
<p><strong>Search with filter</strong>:</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">results</span> <span class="o">=</span> <span class="n">vector_store</span><span class="o">.</span><span class="n">similarity_search</span><span class="p">(</span><span class="n">query</span><span class="o">=</span><span class="s2">&quot;thud&quot;</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="nb">filter</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;bar&quot;</span><span class="p">:</span> <span class="s2">&quot;baz&quot;</span><span class="p">})</span>
<span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">results</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;* </span><span class="si">{</span><span class="n">doc</span><span class="o">.</span><span class="n">page_content</span><span class="si">}</span><span class="s2"> [</span><span class="si">{</span><span class="n">doc</span><span class="o">.</span><span class="n">metadata</span><span class="si">}</span><span class="s2">]&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="o">*</span><span class="n">thud</span><span class="p">[{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;2&quot;</span><span class="p">}]</span>
</pre></div>
</div>
</div></blockquote>
<p><strong>Search with score</strong>:</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">results</span> <span class="o">=</span> <span class="n">vector_store</span><span class="o">.</span><span class="n">similarity_search_with_score</span><span class="p">(</span><span class="n">query</span><span class="o">=</span><span class="s2">&quot;qux&quot;</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="k">for</span> <span class="n">doc</span><span class="p">,</span> <span class="n">score</span> <span class="ow">in</span> <span class="n">results</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;* [SIM=</span><span class="si">{</span><span class="n">score</span><span class="si">:</span><span class="s2">3f</span><span class="si">}</span><span class="s2">] </span><span class="si">{</span><span class="n">doc</span><span class="o">.</span><span class="n">page_content</span><span class="si">}</span><span class="s2"> [</span><span class="si">{</span><span class="n">doc</span><span class="o">.</span><span class="n">metadata</span><span class="si">}</span><span class="s2">]&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="o">*</span> <span class="p">[</span><span class="n">SIM</span><span class="o">=</span><span class="mf">0.748804</span><span class="p">]</span> <span class="n">foo</span> <span class="p">[{</span><span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;1&#39;</span><span class="p">}]</span>
</pre></div>
</div>
</div></blockquote>
<p><strong>Async</strong>:</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># add documents</span>
<span class="k">await</span> <span class="n">vector_store</span><span class="o">.</span><span class="n">aadd_documents</span><span class="p">(</span><span class="n">documents</span><span class="o">=</span><span class="n">documents</span><span class="p">,</span> <span class="n">ids</span><span class="o">=</span><span class="n">ids</span><span class="p">)</span>
<span class="c1"># delete documents</span>
<span class="k">await</span> <span class="n">vector_store</span><span class="o">.</span><span class="n">adelete</span><span class="p">(</span><span class="n">ids</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;3&quot;</span><span class="p">])</span>
<span class="c1"># search</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">vector_store</span><span class="o">.</span><span class="n">asimilarity_search</span><span class="p">(</span><span class="n">query</span><span class="o">=</span><span class="s2">&quot;thud&quot;</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="c1"># search with score</span>
<span class="n">results</span> <span class="o">=</span> <span class="k">await</span> <span class="n">vector_store</span><span class="o">.</span><span class="n">asimilarity_search_with_score</span><span class="p">(</span><span class="n">query</span><span class="o">=</span><span class="s2">&quot;qux&quot;</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="k">for</span> <span class="n">doc</span><span class="p">,</span> <span class="n">score</span> <span class="ow">in</span> <span class="n">results</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;* [SIM=</span><span class="si">{</span><span class="n">score</span><span class="si">:</span><span class="s2">3f</span><span class="si">}</span><span class="s2">] </span><span class="si">{</span><span class="n">doc</span><span class="o">.</span><span class="n">page_content</span><span class="si">}</span><span class="s2"> [</span><span class="si">{</span><span class="n">doc</span><span class="o">.</span><span class="n">metadata</span><span class="si">}</span><span class="s2">]&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="o">*</span> <span class="p">[</span><span class="n">SIM</span><span class="o">=</span><span class="mf">0.748807</span><span class="p">]</span> <span class="n">foo</span> <span class="p">[{</span><span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;1&#39;</span><span class="p">}]</span>
</pre></div>
</div>
</div></blockquote>
<p><strong>Use as Retriever</strong>:</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">retriever</span> <span class="o">=</span> <span class="n">vector_store</span><span class="o">.</span><span class="n">as_retriever</span><span class="p">(</span>
    <span class="n">search_type</span><span class="o">=</span><span class="s2">&quot;mmr&quot;</span><span class="p">,</span>
    <span class="n">search_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;k&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;fetch_k&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;lambda_mult&quot;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">},</span>
<span class="p">)</span>
<span class="n">retriever</span><span class="o">.</span><span class="n">invoke</span><span class="p">(</span><span class="s2">&quot;thud&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">Document</span><span class="p">(</span><span class="n">metadata</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;2&quot;</span><span class="p">},</span> <span class="n">page_content</span><span class="o">=</span><span class="s2">&quot;thud&quot;</span><span class="p">)]</span>
</pre></div>
</div>
</div></blockquote>
<dl class="py property">
<dt class="sig sig-object py" id="databricks_langchain.DatabricksVectorSearch.embeddings">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">embeddings</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://api.python.langchain.com/en/latest/embeddings/langchain_core.embeddings.embeddings.Embeddings.html#langchain_core.embeddings.embeddings.Embeddings" title="(in 🦜🔗 LangChain v0.2.17)"><span class="pre">Embeddings</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></em><a class="headerlink" href="#databricks_langchain.DatabricksVectorSearch.embeddings" title="Link to this definition"></a></dt>
<dd><p>Access the query embedding object if available.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="databricks_langchain.DatabricksVectorSearch.from_texts">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_texts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">texts</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embedding</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://api.python.langchain.com/en/latest/embeddings/langchain_core.embeddings.embeddings.Embeddings.html#langchain_core.embeddings.embeddings.Embeddings" title="(in 🦜🔗 LangChain v0.2.17)"><span class="pre">Embeddings</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadatas</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><span class="pre">Dict</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">VST</span></span></span><a class="headerlink" href="#databricks_langchain.DatabricksVectorSearch.from_texts" title="Link to this definition"></a></dt>
<dd><p>Return VectorStore initialized from texts and embeddings.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>texts</strong> – Texts to add to the vectorstore.</p></li>
<li><p><strong>embedding</strong> – Embedding function to use.</p></li>
<li><p><strong>metadatas</strong> – Optional list of metadatas associated with the texts.
Default is None.</p></li>
<li><p><strong>ids</strong> – Optional list of IDs associated with the texts.</p></li>
<li><p><strong>kwargs</strong> – Additional keyword arguments.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>VectorStore initialized from texts and embeddings.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>VectorStore</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="databricks_langchain.DatabricksVectorSearch.add_texts">
<span class="sig-name descname"><span class="pre">add_texts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">texts</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Iterable" title="(in Python v3.13)"><span class="pre">Iterable</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadatas</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><span class="pre">Dict</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ids</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#databricks_langchain.DatabricksVectorSearch.add_texts" title="Link to this definition"></a></dt>
<dd><p>Add texts to the index.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method is only supported for a direct-access index.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>texts</strong> – List of texts to add.</p></li>
<li><p><strong>metadatas</strong> – List of metadata for each text. Defaults to None.</p></li>
<li><p><strong>ids</strong> – List of ids for each text. Defaults to None.
If not provided, a random uuid will be generated for each text.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of ids from adding the texts into the index.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="databricks_langchain.DatabricksVectorSearch.aadd_texts">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">aadd_texts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">texts</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Iterable" title="(in Python v3.13)"><span class="pre">Iterable</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadatas</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><span class="pre">dict</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#databricks_langchain.DatabricksVectorSearch.aadd_texts" title="Link to this definition"></a></dt>
<dd><p>Async run more texts through the embeddings and add to the vectorstore.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>texts</strong> – Iterable of strings to add to the vectorstore.</p></li>
<li><p><strong>metadatas</strong> – Optional list of metadatas associated with the texts.
Default is None.</p></li>
<li><p><strong>ids</strong> – Optional list</p></li>
<li><p><strong>**kwargs</strong> – vectorstore specific parameters.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of ids from adding the texts into the vectorstore.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.13)"><strong>ValueError</strong></a> – If the number of metadatas does not match the number of texts.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.13)"><strong>ValueError</strong></a> – If the number of ids does not match the number of texts.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="databricks_langchain.DatabricksVectorSearch.delete">
<span class="sig-name descname"><span class="pre">delete</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ids</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#databricks_langchain.DatabricksVectorSearch.delete" title="Link to this definition"></a></dt>
<dd><p>Delete documents from the index.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method is only supported for a direct-access index.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ids</strong> – List of ids of documents to delete.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if successful.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="databricks_langchain.DatabricksVectorSearch.similarity_search">
<span class="sig-name descname"><span class="pre">similarity_search</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">query_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://api.python.langchain.com/en/latest/documents/langchain_core.documents.base.Document.html#langchain_core.documents.base.Document" title="(in 🦜🔗 LangChain v0.2.17)"><span class="pre">Document</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#databricks_langchain.DatabricksVectorSearch.similarity_search" title="Link to this definition"></a></dt>
<dd><p>Return docs most similar to query.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>query</strong> – Text to look up documents similar to.</p></li>
<li><p><strong>k</strong> – Number of Documents to return. Defaults to 4.</p></li>
<li><p><strong>filter</strong> – Filters to apply to the query. Defaults to None.</p></li>
<li><p><strong>query_type</strong> – The type of this query. Supported values are “ANN” and “HYBRID”.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of Documents most similar to the embedding.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="databricks_langchain.DatabricksVectorSearch.asimilarity_search">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">asimilarity_search</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://api.python.langchain.com/en/latest/documents/langchain_core.documents.base.Document.html#langchain_core.documents.base.Document" title="(in 🦜🔗 LangChain v0.2.17)"><span class="pre">Document</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#databricks_langchain.DatabricksVectorSearch.asimilarity_search" title="Link to this definition"></a></dt>
<dd><p>Async return docs most similar to query.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>query</strong> – Input text.</p></li>
<li><p><strong>k</strong> – Number of Documents to return. Defaults to 4.</p></li>
<li><p><strong>**kwargs</strong> – Arguments to pass to the search method.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of Documents most similar to the query.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="databricks_langchain.DatabricksVectorSearch.similarity_search_with_score">
<span class="sig-name descname"><span class="pre">similarity_search_with_score</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">query_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.13)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://api.python.langchain.com/en/latest/documents/langchain_core.documents.base.Document.html#langchain_core.documents.base.Document" title="(in 🦜🔗 LangChain v0.2.17)"><span class="pre">Document</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#databricks_langchain.DatabricksVectorSearch.similarity_search_with_score" title="Link to this definition"></a></dt>
<dd><p>Return docs most similar to query, along with scores.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>query</strong> – Text to look up documents similar to.</p></li>
<li><p><strong>k</strong> – Number of Documents to return. Defaults to 4.</p></li>
<li><p><strong>filter</strong> – Filters to apply to the query. Defaults to None.</p></li>
<li><p><strong>query_type</strong> – The type of this query. Supported values are “ANN” and “HYBRID”.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of Documents most similar to the embedding and score for each.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="databricks_langchain.DatabricksVectorSearch.asimilarity_search_with_score">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">asimilarity_search_with_score</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.13)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://api.python.langchain.com/en/latest/documents/langchain_core.documents.base.Document.html#langchain_core.documents.base.Document" title="(in 🦜🔗 LangChain v0.2.17)"><span class="pre">Document</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#databricks_langchain.DatabricksVectorSearch.asimilarity_search_with_score" title="Link to this definition"></a></dt>
<dd><p>Async run similarity search with distance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>*args</strong> – Arguments to pass to the search method.</p></li>
<li><p><strong>**kwargs</strong> – Arguments to pass to the search method.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of Tuples of (doc, similarity_score).</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="databricks_langchain.DatabricksVectorSearch.similarity_search_by_vector">
<span class="sig-name descname"><span class="pre">similarity_search_by_vector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">embedding</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">query_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">query</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://api.python.langchain.com/en/latest/documents/langchain_core.documents.base.Document.html#langchain_core.documents.base.Document" title="(in 🦜🔗 LangChain v0.2.17)"><span class="pre">Document</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#databricks_langchain.DatabricksVectorSearch.similarity_search_by_vector" title="Link to this definition"></a></dt>
<dd><p>Return docs most similar to embedding vector.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>embedding</strong> – Embedding to look up documents similar to.</p></li>
<li><p><strong>k</strong> – Number of Documents to return. Defaults to 4.</p></li>
<li><p><strong>filter</strong> – Filters to apply to the query. Defaults to None.</p></li>
<li><p><strong>query_type</strong> – The type of this query. Supported values are “ANN” and “HYBRID”.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of Documents most similar to the embedding.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="databricks_langchain.DatabricksVectorSearch.asimilarity_search_by_vector">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">asimilarity_search_by_vector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">embedding</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://api.python.langchain.com/en/latest/documents/langchain_core.documents.base.Document.html#langchain_core.documents.base.Document" title="(in 🦜🔗 LangChain v0.2.17)"><span class="pre">Document</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#databricks_langchain.DatabricksVectorSearch.asimilarity_search_by_vector" title="Link to this definition"></a></dt>
<dd><p>Async return docs most similar to embedding vector.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>embedding</strong> – Embedding to look up documents similar to.</p></li>
<li><p><strong>k</strong> – Number of Documents to return. Defaults to 4.</p></li>
<li><p><strong>**kwargs</strong> – Arguments to pass to the search method.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of Documents most similar to the query vector.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="databricks_langchain.DatabricksVectorSearch.similarity_search_by_vector_with_score">
<span class="sig-name descname"><span class="pre">similarity_search_by_vector_with_score</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">embedding</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">query_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">query</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.13)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://api.python.langchain.com/en/latest/documents/langchain_core.documents.base.Document.html#langchain_core.documents.base.Document" title="(in 🦜🔗 LangChain v0.2.17)"><span class="pre">Document</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#databricks_langchain.DatabricksVectorSearch.similarity_search_by_vector_with_score" title="Link to this definition"></a></dt>
<dd><p>Return docs most similar to embedding vector, along with scores.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method is not supported for index with Databricks-managed embeddings.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>embedding</strong> – Embedding to look up documents similar to.</p></li>
<li><p><strong>k</strong> – Number of Documents to return. Defaults to 4.</p></li>
<li><p><strong>filter</strong> – Filters to apply to the query. Defaults to None.</p></li>
<li><p><strong>query_type</strong> – The type of this query. Supported values are “ANN” and “HYBRID”.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of Documents most similar to the embedding and score for each.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="databricks_langchain.DatabricksVectorSearch.max_marginal_relevance_search">
<span class="sig-name descname"><span class="pre">max_marginal_relevance_search</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fetch_k</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lambda_mult</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">query_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://api.python.langchain.com/en/latest/documents/langchain_core.documents.base.Document.html#langchain_core.documents.base.Document" title="(in 🦜🔗 LangChain v0.2.17)"><span class="pre">Document</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#databricks_langchain.DatabricksVectorSearch.max_marginal_relevance_search" title="Link to this definition"></a></dt>
<dd><p>Return docs selected using the maximal marginal relevance.</p>
<p>Maximal marginal relevance optimizes for similarity to query AND diversity
among selected documents.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method is not supported for index with Databricks-managed embeddings.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>query</strong> – Text to look up documents similar to.</p></li>
<li><p><strong>k</strong> – Number of Documents to return. Defaults to 4.</p></li>
<li><p><strong>fetch_k</strong> – Number of Documents to fetch to pass to MMR algorithm.</p></li>
<li><p><strong>lambda_mult</strong> – Number between 0 and 1 that determines the degree
of diversity among the results with 0 corresponding
to maximum diversity and 1 to minimum diversity.
Defaults to 0.5.</p></li>
<li><p><strong>filter</strong> – Filters to apply to the query. Defaults to None.</p></li>
<li><p><strong>query_type</strong> – The type of this query. Supported values are “ANN” and “HYBRID”.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of Documents selected by maximal marginal relevance.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="databricks_langchain.DatabricksVectorSearch.amax_marginal_relevance_search">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">amax_marginal_relevance_search</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fetch_k</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lambda_mult</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://api.python.langchain.com/en/latest/documents/langchain_core.documents.base.Document.html#langchain_core.documents.base.Document" title="(in 🦜🔗 LangChain v0.2.17)"><span class="pre">Document</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#databricks_langchain.DatabricksVectorSearch.amax_marginal_relevance_search" title="Link to this definition"></a></dt>
<dd><p>Async return docs selected using the maximal marginal relevance.</p>
<p>Maximal marginal relevance optimizes for similarity to query AND diversity
among selected documents.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>query</strong> – Text to look up documents similar to.</p></li>
<li><p><strong>k</strong> – Number of Documents to return. Defaults to 4.</p></li>
<li><p><strong>fetch_k</strong> – Number of Documents to fetch to pass to MMR algorithm.
Default is 20.</p></li>
<li><p><strong>lambda_mult</strong> – Number between 0 and 1 that determines the degree
of diversity among the results with 0 corresponding
to maximum diversity and 1 to minimum diversity.
Defaults to 0.5.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of Documents selected by maximal marginal relevance.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="databricks_langchain.DatabricksVectorSearch.max_marginal_relevance_search_by_vector">
<span class="sig-name descname"><span class="pre">max_marginal_relevance_search_by_vector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">embedding</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fetch_k</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lambda_mult</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">query_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://api.python.langchain.com/en/latest/documents/langchain_core.documents.base.Document.html#langchain_core.documents.base.Document" title="(in 🦜🔗 LangChain v0.2.17)"><span class="pre">Document</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#databricks_langchain.DatabricksVectorSearch.max_marginal_relevance_search_by_vector" title="Link to this definition"></a></dt>
<dd><p>Return docs selected using the maximal marginal relevance.</p>
<p>Maximal marginal relevance optimizes for similarity to query AND diversity
among selected documents.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method is not supported for index with Databricks-managed embeddings.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>embedding</strong> – Embedding to look up documents similar to.</p></li>
<li><p><strong>k</strong> – Number of Documents to return. Defaults to 4.</p></li>
<li><p><strong>fetch_k</strong> – Number of Documents to fetch to pass to MMR algorithm.</p></li>
<li><p><strong>lambda_mult</strong> – Number between 0 and 1 that determines the degree
of diversity among the results with 0 corresponding
to maximum diversity and 1 to minimum diversity.
Defaults to 0.5.</p></li>
<li><p><strong>filter</strong> – Filters to apply to the query. Defaults to None.</p></li>
<li><p><strong>query_type</strong> – The type of this query. Supported values are “ANN” and “HYBRID”.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of Documents selected by maximal marginal relevance.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="databricks_langchain.DatabricksVectorSearch.amax_marginal_relevance_search_by_vector">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">amax_marginal_relevance_search_by_vector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">embedding</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fetch_k</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lambda_mult</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://api.python.langchain.com/en/latest/documents/langchain_core.documents.base.Document.html#langchain_core.documents.base.Document" title="(in 🦜🔗 LangChain v0.2.17)"><span class="pre">Document</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#databricks_langchain.DatabricksVectorSearch.amax_marginal_relevance_search_by_vector" title="Link to this definition"></a></dt>
<dd><p>Async return docs selected using the maximal marginal relevance.</p>
<p>Maximal marginal relevance optimizes for similarity to query AND diversity
among selected documents.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>embedding</strong> – Embedding to look up documents similar to.</p></li>
<li><p><strong>k</strong> – Number of Documents to return. Defaults to 4.</p></li>
<li><p><strong>fetch_k</strong> – Number of Documents to fetch to pass to MMR algorithm.
Default is 20.</p></li>
<li><p><strong>lambda_mult</strong> – Number between 0 and 1 that determines the degree
of diversity among the results with 0 corresponding
to maximum diversity and 1 to minimum diversity.
Defaults to 0.5.</p></li>
<li><p><strong>**kwargs</strong> – Arguments to pass to the search method.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of Documents selected by maximal marginal relevance.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="databricks_langchain.GenieAgent">
<span class="sig-prename descclassname"><span class="pre">databricks_langchain.</span></span><span class="sig-name descname"><span class="pre">GenieAgent</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">genie_space_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">genie_agent_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'Genie'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">client</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">WorkspaceClient</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#databricks_langchain.GenieAgent" title="Link to this definition"></a></dt>
<dd><p>Create a genie agent that can be used to query the API</p>
</dd></dl>

<dl class="py class pydantic_model">
<dt class="sig sig-object py" id="databricks_langchain.VectorSearchRetrieverTool">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">databricks_langchain.</span></span><span class="sig-name descname"><span class="pre">VectorSearchRetrieverTool</span></span><a class="headerlink" href="#databricks_langchain.VectorSearchRetrieverTool" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://api.python.langchain.com/en/latest/tools/langchain_core.tools.base.BaseTool.html#langchain_core.tools.base.BaseTool" title="(in 🦜🔗 LangChain v0.2.17)"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseTool</span></code></a>, <a class="reference internal" href="databricks_ai_bridge.html#databricks_ai_bridge.vector_search_retriever_tool.VectorSearchRetrieverToolMixin" title="databricks_ai_bridge.vector_search_retriever_tool.VectorSearchRetrieverToolMixin"><code class="xref py py-class docutils literal notranslate"><span class="pre">VectorSearchRetrieverToolMixin</span></code></a></p>
<p>A utility class to create a vector search-based retrieval tool for querying indexed embeddings.
This class integrates with Databricks Vector Search and provides a convenient interface
for building a retriever tool for agents.</p>
<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="databricks_langchain.VectorSearchRetrieverTool.args_schema">
<em class="property"><span class="pre">param</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">args_schema</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Type" title="(in Python v3.13)"><span class="pre">Type</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.pydantic.dev/latest/api/base_model/#pydantic.BaseModel" title="(in Pydantic v0.0.0)"><span class="pre">BaseModel</span></a><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;class</span> <span class="pre">'databricks_ai_bridge.vector_search_retriever_tool.VectorSearchRetrieverToolInput'&gt;</span></em><a class="headerlink" href="#databricks_langchain.VectorSearchRetrieverTool.args_schema" title="Link to this definition"></a></dt>
<dd><p>Pydantic model class to validate and parse the tool’s input arguments.</p>
<p>Args schema should be either:</p>
<ul class="simple">
<li><p>A subclass of pydantic.BaseModel.</p></li>
</ul>
<p>or
- A subclass of pydantic.v1.BaseModel if accessing v1 namespace in pydantic 2
or
- a JSON schema dict</p>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="databricks_langchain.VectorSearchRetrieverTool.description">
<em class="property"><span class="pre">param</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">description</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#databricks_langchain.VectorSearchRetrieverTool.description" title="Link to this definition"></a></dt>
<dd><p>Used to tell the model how/when/why to use the tool.</p>
<p>You can provide few-shot examples as a part of the description.</p>
<p>The description of the tool</p>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="databricks_langchain.VectorSearchRetrieverTool.embedding">
<em class="property"><span class="pre">param</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">embedding</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://api.python.langchain.com/en/latest/embeddings/langchain_core.embeddings.embeddings.Embeddings.html#langchain_core.embeddings.embeddings.Embeddings" title="(in 🦜🔗 LangChain v0.2.17)"><span class="pre">Embeddings</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#databricks_langchain.VectorSearchRetrieverTool.embedding" title="Link to this definition"></a></dt>
<dd><p>Embedding model for self-managed embeddings.</p>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="databricks_langchain.VectorSearchRetrieverTool.name">
<em class="property"><span class="pre">param</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#databricks_langchain.VectorSearchRetrieverTool.name" title="Link to this definition"></a></dt>
<dd><p>The unique name of the tool that clearly communicates its purpose.</p>
<p>The name of the tool</p>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="databricks_langchain.VectorSearchRetrieverTool.text_column">
<em class="property"><span class="pre">param</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">text_column</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#databricks_langchain.VectorSearchRetrieverTool.text_column" title="Link to this definition"></a></dt>
<dd><p>The name of the text column to use for the embeddings. Required for direct-access index or delta-sync index with self-managed embeddings.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="databricks_langchain.UCFunctionToolkit">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">databricks_langchain.</span></span><span class="sig-name descname"><span class="pre">UCFunctionToolkit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">function_names</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tools_dict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#databricks_langchain.UnityCatalogTool" title="unitycatalog.ai.langchain.toolkit.UnityCatalogTool"><span class="pre">UnityCatalogTool</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">client</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">BaseFunctionClient</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#databricks_langchain.UCFunctionToolkit" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">BaseModel</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="databricks_langchain.UCFunctionToolkit.function_names">
<span class="sig-name descname"><span class="pre">function_names</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#databricks_langchain.UCFunctionToolkit.function_names" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="databricks_langchain.UCFunctionToolkit.tools_dict">
<span class="sig-name descname"><span class="pre">tools_dict</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#databricks_langchain.UnityCatalogTool" title="unitycatalog.ai.langchain.toolkit.UnityCatalogTool"><span class="pre">UnityCatalogTool</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#databricks_langchain.UCFunctionToolkit.tools_dict" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="databricks_langchain.UCFunctionToolkit.client">
<span class="sig-name descname"><span class="pre">client</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">BaseFunctionClient</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></em><a class="headerlink" href="#databricks_langchain.UCFunctionToolkit.client" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="databricks_langchain.UCFunctionToolkit.Config">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Config</span></span><a class="headerlink" href="#databricks_langchain.UCFunctionToolkit.Config" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="databricks_langchain.UCFunctionToolkit.Config.arbitrary_types_allowed">
<span class="sig-name descname"><span class="pre">arbitrary_types_allowed</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#databricks_langchain.UCFunctionToolkit.Config.arbitrary_types_allowed" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="databricks_langchain.UCFunctionToolkit.validate_toolkit">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">validate_toolkit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">values</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#databricks_langchain.UCFunctionToolkit.validate_toolkit" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="databricks_langchain.UCFunctionToolkit.uc_function_to_langchain_tool">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">uc_function_to_langchain_tool</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">function_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">client</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">BaseFunctionClient</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#databricks_langchain.UnityCatalogTool" title="unitycatalog.ai.langchain.toolkit.UnityCatalogTool"><span class="pre">UnityCatalogTool</span></a></span></span><a class="headerlink" href="#databricks_langchain.UCFunctionToolkit.uc_function_to_langchain_tool" title="Link to this definition"></a></dt>
<dd><p>Convert a UC function to Langchain StructuredTool</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>function_name</strong> – The full name of the function in the form of ‘catalog.schema.function’</p></li>
<li><p><strong>client</strong> – The client for managing functions, must be an instance of BaseFunctionClient</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="databricks_langchain.UCFunctionToolkit.tools">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">tools</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#databricks_langchain.UnityCatalogTool" title="unitycatalog.ai.langchain.toolkit.UnityCatalogTool"><span class="pre">UnityCatalogTool</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#databricks_langchain.UCFunctionToolkit.tools" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class pydantic_model">
<dt class="sig sig-object py" id="databricks_langchain.UnityCatalogTool">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">databricks_langchain.</span></span><span class="sig-name descname"><span class="pre">UnityCatalogTool</span></span><a class="headerlink" href="#databricks_langchain.UnityCatalogTool" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://api.python.langchain.com/en/latest/tools/langchain_core.tools.structured.StructuredTool.html#langchain_core.tools.structured.StructuredTool" title="(in 🦜🔗 LangChain v0.2.17)"><code class="xref py py-class docutils literal notranslate"><span class="pre">StructuredTool</span></code></a></p>
<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="databricks_langchain.UnityCatalogTool.client_config">
<em class="property"><span class="pre">param</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">client_config</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">FieldInfo(default=PydanticUndefined,</span> <span class="pre">description='Configuration</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">client</span> <span class="pre">for</span> <span class="pre">managing</span> <span class="pre">the</span> <span class="pre">tool',</span> <span class="pre">extra={})</span></em><a class="headerlink" href="#databricks_langchain.UnityCatalogTool.client_config" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="databricks_langchain.UnityCatalogTool.uc_function_name">
<em class="property"><span class="pre">param</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">uc_function_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">FieldInfo(default=PydanticUndefined,</span> <span class="pre">description=&quot;The</span> <span class="pre">full</span> <span class="pre">name</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">function</span> <span class="pre">in</span> <span class="pre">the</span> <span class="pre">form</span> <span class="pre">of</span> <span class="pre">'catalog.schema.function'&quot;,</span> <span class="pre">extra={})</span></em><a class="headerlink" href="#databricks_langchain.UnityCatalogTool.uc_function_name" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="databricks_langchain.DatabricksFunctionClient">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">databricks_langchain.</span></span><span class="sig-name descname"><span class="pre">DatabricksFunctionClient</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">client</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">WorkspaceClient</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">profile</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#databricks_langchain.DatabricksFunctionClient" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">BaseFunctionClient</span></code></p>
<p>Databricks UC function calling client</p>
<dl class="py method">
<dt class="sig sig-object py" id="databricks_langchain.DatabricksFunctionClient.set_default_spark_session">
<span class="sig-name descname"><span class="pre">set_default_spark_session</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#databricks_langchain.DatabricksFunctionClient.set_default_spark_session" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="databricks_langchain.DatabricksFunctionClient.stop_spark_session">
<span class="sig-name descname"><span class="pre">stop_spark_session</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#databricks_langchain.DatabricksFunctionClient.stop_spark_session" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="databricks_langchain.DatabricksFunctionClient.refresh_client_and_session">
<span class="sig-name descname"><span class="pre">refresh_client_and_session</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#databricks_langchain.DatabricksFunctionClient.refresh_client_and_session" title="Link to this definition"></a></dt>
<dd><p>Refreshes the databricks client and spark session if the session_id has been invalidated due to expiration of temporary credentials.
If the client is running within an interactive Databricks notebook environment, the spark session is not terminated.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="databricks_langchain.DatabricksFunctionClient.create_function">
<span class="sig-name descname"><span class="pre">create_function</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sql_function_body</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">FunctionInfo</span></span></span><a class="headerlink" href="#databricks_langchain.DatabricksFunctionClient.create_function" title="Link to this definition"></a></dt>
<dd><p>Create a UC function with the given sql body or function info.</p>
<dl class="simple">
<dt>Note: <code class="xref any docutils literal notranslate"><span class="pre">databricks-connect</span></code> is required to use this function, make sure its version is 15.1.0 or above to use</dt><dd><p>serverless compute.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>sql_function_body</strong> – The sql body of the function. Defaults to None.
It should follow the syntax of CREATE FUNCTION statement in Databricks.
Ref: <a class="reference external" href="https://docs.databricks.com/en/sql/language-manual/sql-ref-syntax-ddl-create-sql-function.html#syntax">https://docs.databricks.com/en/sql/language-manual/sql-ref-syntax-ddl-create-sql-function.html#syntax</a></p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The created function info.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>FunctionInfo</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="databricks_langchain.DatabricksFunctionClient.create_python_function">
<span class="sig-name descname"><span class="pre">create_python_function</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.13)"><span class="pre">Callable</span></a><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">catalog</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">schema</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">replace</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dependencies</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">environment_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'None'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">FunctionInfo</span></span></span><a class="headerlink" href="#databricks_langchain.DatabricksFunctionClient.create_python_function" title="Link to this definition"></a></dt>
<dd><p>Create a Unity Catalog (UC) function directly from a Python function.</p>
<p>This API allows you to convert a Python function into a Unity Catalog User-Defined Function (UDF).
It automates the creation of UC functions while ensuring that the Python function meets certain
criteria and adheres to best practices.</p>
<p><strong>Requirements:</strong></p>
<ol class="arabic">
<li><dl>
<dt><strong>Type Annotations</strong>:</dt><dd><ul class="simple">
<li><p>The Python function must use argument and return type annotations. These annotations are used</p></li>
</ul>
<p>to generate the SQL signature of the UC function.
- Supported Python types and their corresponding UC types are as follows:</p>
<div class="line-block">
<div class="line">Python Type          | Unity Catalog Type       |</div>
</div>
<p><a href="#id36"><span class="problematic" id="id37">|----------------------|</span></a>————————–|
| <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><code class="xref any docutils literal notranslate"><span class="pre">int</span></code></a>                | <code class="xref any docutils literal notranslate"><span class="pre">LONG</span></code>                |
| <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref any docutils literal notranslate"><span class="pre">float</span></code></a>              | <code class="xref any docutils literal notranslate"><span class="pre">DOUBLE</span></code>                 |
| <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref any docutils literal notranslate"><span class="pre">str</span></code></a>                | <code class="xref any docutils literal notranslate"><span class="pre">STRING</span></code>                 |
| <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><code class="xref any docutils literal notranslate"><span class="pre">bool</span></code></a>               | <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#boolean" title="(in Python v3.13)"><code class="docutils literal notranslate"><span class="pre">Boolean</span> <span class="pre">Operations</span> <span class="pre">—</span> <span class="pre">and,</span> <span class="pre">or,</span> <span class="pre">not</span></code></a>                |
| <code class="xref any docutils literal notranslate"><span class="pre">Decimal</span></code>            | <code class="xref any docutils literal notranslate"><span class="pre">DECIMAL</span></code>                |
| <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.date" title="(in Python v3.13)"><code class="xref any docutils literal notranslate"><span class="pre">datetime.date</span></code></a>      | <code class="xref any docutils literal notranslate"><span class="pre">DATE</span></code>                   |
| <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.timedelta" title="(in Python v3.13)"><code class="xref any docutils literal notranslate"><span class="pre">datetime.timedelta</span></code></a> | <code class="xref any docutils literal notranslate"><span class="pre">INTERVAL</span> <span class="pre">DAY</span> <span class="pre">TO</span> <span class="pre">SECOND</span></code> |
| <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.13)"><code class="xref any docutils literal notranslate"><span class="pre">datetime.datetime</span></code></a>  | <code class="xref any docutils literal notranslate"><span class="pre">TIMESTAMP</span></code>              |
| <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><code class="xref any docutils literal notranslate"><span class="pre">list</span></code></a>               | <code class="xref any docutils literal notranslate"><span class="pre">ARRAY</span></code>                  |
| <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><code class="xref any docutils literal notranslate"><span class="pre">tuple</span></code></a>              | <code class="xref any docutils literal notranslate"><span class="pre">ARRAY</span></code>                  |
| <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><code class="xref any docutils literal notranslate"><span class="pre">dict</span></code></a>               | <code class="xref any docutils literal notranslate"><span class="pre">MAP</span></code>                    |
| <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.13)"><code class="xref any docutils literal notranslate"><span class="pre">bytes</span></code></a>              | <a class="reference external" href="https://docs.python.org/3/reference/expressions.html#binary" title="(in Python v3.13)"><code class="docutils literal notranslate"><span class="pre">Binary</span> <span class="pre">arithmetic</span> <span class="pre">operations</span></code></a>                 |</p>
<ul class="simple">
<li><p><strong>Example of a valid function</strong>:</p></li>
</ul>
<p><a href="#id1"><span class="problematic" id="id2">``</span></a><a href="#id3"><span class="problematic" id="id4">`</span></a>python
def my_function(a: int, b: str) -&gt; float:</p>
<blockquote>
<div><p>return a + len(b)</p>
</div></blockquote>
<p><a href="#id5"><span class="problematic" id="id6">``</span></a><a href="#id7"><span class="problematic" id="id8">`</span></a></p>
<ul class="simple">
<li><p><strong>Invalid function (missing type annotations)</strong>:</p></li>
</ul>
<p><a href="#id9"><span class="problematic" id="id10">``</span></a><a href="#id11"><span class="problematic" id="id12">`</span></a>python
def my_function(a, b):</p>
<blockquote>
<div><p>return a + len(b)</p>
</div></blockquote>
<p><a href="#id13"><span class="problematic" id="id14">``</span></a>`
Attempting to create a UC function from a function without type hints will raise an error, as the
system relies on type hints to generate the UC function’s signature.</p>
<ul class="simple">
<li><p>For container types like <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><code class="xref any docutils literal notranslate"><span class="pre">list</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><code class="xref any docutils literal notranslate"><span class="pre">tuple</span></code></a> and <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><code class="xref any docutils literal notranslate"><span class="pre">dict</span></code></a>, the inner types <strong>must be specified</strong> and must be</p></li>
</ul>
<p>uniform (Union types are not permitted). For example:</p>
<p><a href="#id15"><span class="problematic" id="id16">``</span></a><a href="#id17"><span class="problematic" id="id18">`</span></a>python
def my_function(a: List[int], b: Dict[str, float]) -&gt; List[str]:</p>
<blockquote>
<div><p>return [str(x) for x in a]</p>
</div></blockquote>
<p><a href="#id19"><span class="problematic" id="id20">``</span></a><a href="#id21"><span class="problematic" id="id22">`</span></a></p>
<ul class="simple">
<li><p>var args and kwargs are not supported. All arguments must be explicitly defined in the function signature.</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl>
<dt><strong>Google Docstring Guidelines</strong>:</dt><dd><ul class="simple">
<li><p>It is required to include detailed Python docstrings in your function to provide additional context.</p></li>
</ul>
<p>The docstrings will be used to auto-generate parameter descriptions and a function-level comment.</p>
<ul class="simple">
<li><p>A <strong>function description</strong> must be provided at the beginning of the docstring (within the triple quotes)</p></li>
</ul>
<p>to describe the function’s purpose. This description will be used as the function-level comment in the UC function.
The description <strong>must</strong> be included in the first portion of the docstring prior to any argument descriptions.</p>
<ul class="simple">
<li><p><strong>Parameter descriptions</strong> are optional but recommended. If provided, they should be included in the</p></li>
</ul>
<p>Google-style docstring. The parameter descriptions will be used to auto-generate detailed descriptions for
each parameter in the UC function. The additional context provided by these argument descriptions can be
useful for agent applications to understand context of the arguments and their purpose.</p>
<ul class="simple">
<li><p>Only <strong>Google-style docstrings</strong> are supported for this auto-generation. For example:</p></li>
</ul>
<p><a href="#id23"><span class="problematic" id="id24">``</span></a><a href="#id25"><span class="problematic" id="id26">`</span></a>python
def my_function(a: int, b: str) -&gt; float:</p>
<blockquote>
<div><p>“””
Adds the length of a string to an integer.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>a (int): The integer to add to.
b (str): The string whose length will be added.</p>
</dd>
<dt>Returns:</dt><dd><p>float: The sum of the integer and the string length.</p>
</dd>
</dl>
<p>“””
return a + len(b)</p>
</div></blockquote>
<p><a href="#id27"><span class="problematic" id="id28">``</span></a>`
- If docstrings do not conform to Google-style for specifying arguments descriptions, parameter descriptions</p>
<blockquote>
<div><p>will default to <code class="xref any docutils literal notranslate"><span class="pre">&quot;Parameter</span> <span class="pre">&lt;name&gt;&quot;</span></code>, and no further information will be provided in the function comment
for the given parameter.</p>
</div></blockquote>
<p>For examples of Google docstring guidelines, see
[this link](<a class="reference external" href="https://sphinxcontrib-napoleon.readthedocs.io/en/latest/example_google.html">https://sphinxcontrib-napoleon.readthedocs.io/en/latest/example_google.html</a>)</p>
</dd>
</dl>
</li>
<li><dl>
<dt><strong>External Dependencies</strong>:</dt><dd><ul class="simple">
<li><p>Unity Catalog UDFs are limited to Python standard libraries and Databricks-provided libraries. If your</p></li>
</ul>
<p>function relies on unsupported external dependencies, the created UC function may fail at runtime.
- It is strongly recommended to test the created function by executing it before integrating it into
GenAI or other tools.</p>
</dd>
</dl>
</li>
</ol>
<p><strong>Function Metadata</strong>:
- Docstrings (if provided and Google-style) will automatically be included as detailed descriptions for
function parameters as well as for the function itself, enhancing the discoverability of the utility of your
UC function.</p>
<p><strong>Example</strong>:
<a href="#id29"><span class="problematic" id="id30">``</span></a><a href="#id31"><span class="problematic" id="id32">`</span></a>python
def example_function(x: int, y: int) -&gt; float:</p>
<blockquote>
<div><p>“””
Multiplies an integer by the length of a string.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>x (int): The number to be multiplied.
y (int): A string whose length will be used for multiplication.</p>
</dd>
<dt>Returns:</dt><dd><p>float: The product of the integer and the string length.</p>
</dd>
</dl>
<p>“””
return x * len(y)</p>
</div></blockquote>
<dl class="simple">
<dt>client.create_python_function(</dt><dd><p>func=example_function,
catalog=”my_catalog”,
schema=”my_schema”</p>
</dd>
</dl>
<section id="id33">
<h2>)<a class="headerlink" href="#id33" title="Link to this heading"></a></h2>
<p><strong>Overwriting a function</strong>:
- If a function with the same name already exists in the specified catalog and schema, the function will not be
created by default. To overwrite the existing function, set the <code class="xref any docutils literal notranslate"><span class="pre">replace</span></code> parameter to <a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.13)"><code class="xref any docutils literal notranslate"><span class="pre">True</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">param func<span class="colon">:</span></dt>
<dd class="field-odd"><p>The Python function to convert into a UDF.</p>
</dd>
<dt class="field-even">param catalog<span class="colon">:</span></dt>
<dd class="field-even"><p>The catalog name in which to create the function.</p>
</dd>
<dt class="field-odd">param schema<span class="colon">:</span></dt>
<dd class="field-odd"><p>The schema name in which to create the function.</p>
</dd>
<dt class="field-even">param replace<span class="colon">:</span></dt>
<dd class="field-even"><p>Whether to replace the function if it already exists. Defaults to False.</p>
</dd>
<dt class="field-odd">param dependencies<span class="colon">:</span></dt>
<dd class="field-odd"><p>A list of external dependencies required by the function. Defaults to an empty list. Note that the
<code class="xref any docutils literal notranslate"><span class="pre">dependencies</span></code> parameter is not supported in all runtimes. Ensure that you are using a runtime that supports environment
and dependency declaration prior to creating a function that defines dependencies.
Standard PyPI package declarations are supported (i.e., <code class="xref any docutils literal notranslate"><span class="pre">requests&gt;=2.25.1</span></code>).</p>
</dd>
<dt class="field-even">param environment_version<span class="colon">:</span></dt>
<dd class="field-even"><p>The version of the environment in which the function will be executed. Defaults to ‘None’. Note
that the <code class="xref any docutils literal notranslate"><span class="pre">environment_version</span></code> parameter is not supported in all runtimes. Ensure that you are using a runtime that
supports environment and dependency declaration prior to creating a function that declares an environment verison.</p>
</dd>
<dt class="field-odd">returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Metadata about the created function, including its name and signature.</p>
</dd>
<dt class="field-even">rtype<span class="colon">:</span></dt>
<dd class="field-even"><p>FunctionInfo</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="databricks_langchain.DatabricksFunctionClient.create_wrapped_function">
<span class="sig-name descname"><span class="pre">create_wrapped_function</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">primary_func</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.13)"><span class="pre">Callable</span></a><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">functions</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.13)"><span class="pre">Callable</span></a><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">catalog</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">schema</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">replace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dependencies</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">environment_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'None'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">FunctionInfo</span></span></span><a class="headerlink" href="#databricks_langchain.DatabricksFunctionClient.create_wrapped_function" title="Link to this definition"></a></dt>
<dd><p>Create a wrapped function comprised of a <code class="xref any docutils literal notranslate"><span class="pre">primary_func</span></code> function and in-lined wrapped <a class="reference external" href="https://docs.python.org/3/library/winreg.html#functions" title="(in Python v3.13)"><code class="docutils literal notranslate"><span class="pre">Functions</span></code></a> within the <code class="xref any docutils literal notranslate"><span class="pre">primary_func</span></code> body.</p>
<dl class="simple">
<dt>Note: <code class="xref any docutils literal notranslate"><span class="pre">databricks-connect</span></code> is required to use this function, make sure its version is 15.1.0 or above to use</dt><dd><p>serverless compute.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>primary_func</strong> – The primary function to be wrapped.</p></li>
<li><p><strong>functions</strong> – A list of functions to be wrapped inline within the body of <code class="xref any docutils literal notranslate"><span class="pre">primary_func</span></code>.</p></li>
<li><p><strong>catalog</strong> – The catalog name.</p></li>
<li><p><strong>schema</strong> – The schema name.</p></li>
<li><p><strong>replace</strong> – Whether to replace the function if it already exists. Defaults to False.</p></li>
<li><p><strong>dependencies</strong> – A list of external dependencies required by the function. Defaults to an empty list. Note that the
<code class="xref any docutils literal notranslate"><span class="pre">dependencies</span></code> parameter is not supported in all runtimes. Ensure that you are using a runtime that supports environment
and dependency declaration prior to creating a function that defines dependencies.
Standard PyPI package declarations are supported (i.e., <code class="xref any docutils literal notranslate"><span class="pre">requests&gt;=2.25.1</span></code>).</p></li>
<li><p><strong>environment_version</strong> – The version of the environment in which the function will be executed. Defaults to ‘None’. Note
that the <code class="xref any docutils literal notranslate"><span class="pre">environment_version</span></code> parameter is not supported in all runtimes. Ensure that you are using a runtime that
supports environment and dependency declaration prior to creating a function that declares an environment verison.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Metadata about the created function, including its name and signature.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>FunctionInfo</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="databricks_langchain.DatabricksFunctionClient.get_function">
<span class="sig-name descname"><span class="pre">get_function</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">function_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">FunctionInfo</span></span></span><a class="headerlink" href="#databricks_langchain.DatabricksFunctionClient.get_function" title="Link to this definition"></a></dt>
<dd><p>Get a function by its name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>function_name</strong> – The name of the function to get.</p></li>
<li><p><strong>kwargs</strong> – additional key-value pairs to include when getting the function.</p></li>
<li><p><strong>are</strong> (<em>Allowed keys for retrieving functions</em>)</p></li>
<li><p><strong>include_browse</strong> (<em>-</em>) – bool (default to None)
Whether to include functions in the response for which the principal can only
access selective metadata for.</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The function name shouldn’t be <a href="#id34"><span class="problematic" id="id35">*</span></a>, to get all functions in a catalog and schema,
please use list_functions API instead.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The function info.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>FunctionInfo</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="databricks_langchain.DatabricksFunctionClient.list_functions">
<span class="sig-name descname"><span class="pre">list_functions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">catalog</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">schema</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_results</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">page_token</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_browse</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">PagedList</span><span class="p"><span class="pre">[</span></span><span class="pre">FunctionInfo</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#databricks_langchain.DatabricksFunctionClient.list_functions" title="Link to this definition"></a></dt>
<dd><p>List functions in a catalog and schema.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>catalog</strong> – The catalog name.</p></li>
<li><p><strong>schema</strong> – The schema name.</p></li>
<li><p><strong>max_results</strong> – The maximum number of functions to return. Defaults to None.</p></li>
<li><p><strong>page_token</strong> – The token for the next page. Defaults to None.</p></li>
<li><p><strong>include_browse</strong> – Whether to include functions in the response for which the</p></li>
<li><p><strong>None.</strong> (<em>principal can only access selective metadata for. Defaults to</em>)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The paginated list of function infos.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>PageList[FunctionInfo]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="databricks_langchain.DatabricksFunctionClient.execute_function">
<span class="sig-name descname"><span class="pre">execute_function</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">function_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">parameters</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">FunctionExecutionResult</span></span></span><a class="headerlink" href="#databricks_langchain.DatabricksFunctionClient.execute_function" title="Link to this definition"></a></dt>
<dd><p>Execute a UC function by name with the given parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>function_name</strong> – The name of the function to execute.</p></li>
<li><p><strong>parameters</strong> – The parameters to pass to the function. Defaults to None.</p></li>
<li><p><strong>kwargs</strong> – <p>additional key-value pairs to include when executing the function.
Allowed keys for retrieving functions are:
- include_browse: bool (default to False)</p>
<blockquote>
<div><p>Whether to include functions in the response for which the principal can only access selective
metadata for.</p>
</div></blockquote>
<p>Allowed keys for executing functions are:
- wait_timeout: str (default to <code class="xref any docutils literal notranslate"><span class="pre">30s</span></code>)</p>
<blockquote>
<div><p>The time in seconds the call will wait for the statement’s result set as <code class="xref any docutils literal notranslate"><span class="pre">Ns</span></code>, where <code class="xref any docutils literal notranslate"><span class="pre">N</span></code> can be set
to 0 or to a value between 5 and 50.</p>
<p>When set to <code class="xref any docutils literal notranslate"><span class="pre">0s</span></code>, the statement will execute in asynchronous mode and the call will not wait for the
execution to finish. In this case, the call returns directly with <code class="xref any docutils literal notranslate"><span class="pre">PENDING</span></code> state and a statement ID
which can be used for polling with :method:statementexecution/getStatement.</p>
<p>When set between 5 and 50 seconds, the call will behave synchronously up to this timeout and wait
for the statement execution to finish. If the execution finishes within this time, the call returns
immediately with a manifest and result data (or a <code class="xref any docutils literal notranslate"><span class="pre">FAILED</span></code> state in case of an execution error). If
the statement takes longer to execute, <code class="xref any docutils literal notranslate"><span class="pre">on_wait_timeout</span></code> determines what should happen after the
timeout is reached.</p>
</div></blockquote>
<ul>
<li><dl class="simple">
<dt>row_limit: int (default to 100)</dt><dd><p>Applies the given row limit to the statement’s result set, but unlike the <code class="xref any docutils literal notranslate"><span class="pre">LIMIT</span></code> clause in SQL, it
also sets the <code class="xref any docutils literal notranslate"><span class="pre">truncated</span></code> field in the response to indicate whether the result was trimmed due to
the limit or not.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>byte_limit: int (default to 1048576 = 1MB)</dt><dd><p>Applies the given byte limit to the statement’s result size. Byte counts are based on internal data
representations and might not match the final size in the requested <a class="reference external" href="https://docs.python.org/3/library/functions.html#format" title="(in Python v3.13)"><code class="xref any docutils literal notranslate"><span class="pre">format</span></code></a>. If the result was
truncated due to the byte limit, then <code class="xref any docutils literal notranslate"><span class="pre">truncated</span></code> in the response is set to <code class="xref any docutils literal notranslate"><span class="pre">true</span></code>. When using
<code class="xref any docutils literal notranslate"><span class="pre">EXTERNAL_LINKS</span></code> disposition, a default <code class="xref any docutils literal notranslate"><span class="pre">byte_limit</span></code> of 100 GiB is applied if <code class="xref any docutils literal notranslate"><span class="pre">byte_limit</span></code> is not
explcitly set.</p>
</dd>
</dl>
</li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The result of executing the function.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>FunctionExecutionResult</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="databricks_langchain.DatabricksFunctionClient.delete_function">
<span class="sig-name descname"><span class="pre">delete_function</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">function_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#databricks_langchain.DatabricksFunctionClient.delete_function" title="Link to this definition"></a></dt>
<dd><p>Delete a function by its full name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>function_name</strong> – The full name of the function to delete.
It should be in the format of “catalog.schema.function_name”.</p></li>
<li><p><strong>force</strong> – Force deletion even if the function is not empty. This
parameter is used by underlying databricks workspace client
when deleting a function. If it is None then the parameter
is not included in the request. Defaults to None.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="databricks_langchain.DatabricksFunctionClient.to_dict">
<span class="sig-name descname"><span class="pre">to_dict</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#databricks_langchain.DatabricksFunctionClient.to_dict" title="Link to this definition"></a></dt>
<dd><p>Store the client configuration in a dictionary.
Sensitive information should be excluded.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="databricks_langchain.DatabricksFunctionClient.from_dict">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#databricks_langchain.DatabricksFunctionClient.from_dict" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="databricks_langchain.set_uc_function_client">
<span class="sig-prename descclassname"><span class="pre">databricks_langchain.</span></span><span class="sig-name descname"><span class="pre">set_uc_function_client</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">client</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">BaseFunctionClient</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#databricks_langchain.set_uc_function_client" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>See also: <a class="reference internal" href="#databricks_langchain.UnityCatalogTool" title="unitycatalog.ai.langchain.toolkit.UnityCatalogTool"><code class="xref py py-class docutils literal notranslate"><span class="pre">unitycatalog.ai.langchain.toolkit.UnityCatalogTool</span></code></a></p>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="databricks_ai_bridge.html" class="btn btn-neutral float-left" title="Databricks AI Bridge Python API" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="databricks_openai.html" class="btn btn-neutral float-right" title="Databricks OpenAI Integrations Python API" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Databricks.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-44077918-9"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-44077918-9');
</script>


</body>
</html>